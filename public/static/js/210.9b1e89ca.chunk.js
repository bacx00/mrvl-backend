"use strict";(self.webpackChunkmrvl_frontend=self.webpackChunkmrvl_frontend||[]).push([[210],{4210:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var a=r(9950),l=r(5150),s=r(6225),o=r(4414);const i=function(e){let{navigateTo:t}=e;const[r,i]=(0,a.useState)([]),[n,d]=(0,a.useState)(!0),[c,g]=(0,a.useState)("ongoing"),[x,m]=(0,a.useState)(""),[u,h]=(0,a.useState)("all"),[b,v]=(0,a.useState)("all"),[p,y]=(0,a.useState)("all"),{api:k,isAdmin:j,isModerator:f}=(0,l.As)();(0,a.useEffect)((()=>{N()}),[]);const N=async()=>{try{var e;d(!0),console.log("TournamentsPage: Fetching tournaments from API...");const t=await k.get("/events?sort=recent"),r=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data||[];console.log("Tournaments fetched:",r),i(r)}catch(t){console.error("Error fetching tournaments:",t),i([])}finally{d(!1)}},w=(()=>{let e=r;switch(c){case"upcoming":e=e.filter((e=>"upcoming"===e.status));break;case"ongoing":e=e.filter((e=>"ongoing"===e.status||"live"===e.status));break;case"completed":e=e.filter((e=>"completed"===e.status))}if("all"!==u&&(e=e.filter((e=>{var t;return((null===(t=e.details)||void 0===t?void 0:t.format)||e.format)===u}))),"all"!==b&&(e=e.filter((e=>{var t;return((null===(t=e.details)||void 0===t?void 0:t.region)||e.region)===b}))),"all"!==p)switch(p){case"under_10k":e=e.filter((e=>{var t;return((null===(t=e.details)||void 0===t?void 0:t.prize_pool)||e.prize_pool||0)<1e4}));break;case"10k_50k":e=e.filter((e=>{var t;const r=(null===(t=e.details)||void 0===t?void 0:t.prize_pool)||e.prize_pool||0;return r>=1e4&&r<5e4}));break;case"50k_100k":e=e.filter((e=>{var t;const r=(null===(t=e.details)||void 0===t?void 0:t.prize_pool)||e.prize_pool||0;return r>=5e4&&r<1e5}));break;case"over_100k":e=e.filter((e=>{var t;return((null===(t=e.details)||void 0===t?void 0:t.prize_pool)||e.prize_pool||0)>=1e5}))}return x&&(e=e.filter((e=>e.name.toLowerCase().includes(x.toLowerCase())||e.description&&e.description.toLowerCase().includes(x.toLowerCase())))),e})(),_=e=>{var r,a,l,i,n;let{tournament:d}=e;const c=e=>e&&0!==e?"string"===typeof e?e:"$".concat(e.toLocaleString()):null;return(0,o.jsxs)("div",{className:"liquipedia-tournament-card bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>t&&t("tournament-detail",{id:d.id}),children:[(0,o.jsxs)("div",{className:"relative h-32 bg-gradient-to-r from-red-600 to-red-800 overflow-hidden",children:[(0,o.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),(0,o.jsxs)("div",{className:"relative z-10 p-4 h-full flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-white/20 flex-shrink-0",children:(0,o.jsx)("img",{src:(0,s.NR)(d),alt:d.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='<div class="w-full h-full flex items-center justify-center text-2xl font-bold text-white">\ud83c\udfc6</div>'}})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:d.name}),(0,o.jsxs)("div",{className:"text-red-100 text-sm",children:[(null===(r=d.details)||void 0===r?void 0:r.region)||d.region," \u2022 ",(()=>{var e,t;const r=new Date((null===(e=d.schedule)||void 0===e?void 0:e.start_date)||d.start_date),a=new Date((null===(t=d.schedule)||void 0===t?void 0:t.end_date)||d.end_date);return r.toDateString()===a.toDateString()?r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"".concat(r.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))})()]})]})]}),(0,o.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat((e=>{switch(e){case"live":case"ongoing":return"bg-green-600 text-white";case"upcoming":return"bg-blue-600 text-white";case"completed":return"bg-gray-600 text-white";default:return"bg-gray-400 text-white"}})(d.status)," ").concat("live"===d.status?"animate-pulse":""),children:["live"===d.status&&(0,o.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mr-1 animate-pulse inline-block"}),d.status.toUpperCase()]})]})]}),(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c((null===(a=d.details)||void 0===a?void 0:a.prize_pool)||d.prize_pool)&&(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-gray-500 dark:text-gray-400 font-medium mb-1",children:"Prize Pool"}),(0,o.jsx)("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:c((null===(l=d.details)||void 0===l?void 0:l.prize_pool)||d.prize_pool)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-gray-500 dark:text-gray-400 font-medium mb-1",children:"Format"}),(0,o.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white",children:(g=(null===(i=d.details)||void 0===i?void 0:i.format)||d.format,{single_elimination:"Single Elimination",double_elimination:"Double Elimination",swiss:"Swiss System",round_robin:"Round Robin",group_stage:"Group Stage",gsl:"GSL Format",battle_royale:"Battle Royale"}[g]||g)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-gray-500 dark:text-gray-400 font-medium mb-1",children:"Teams"}),(0,o.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white",children:(()=>{var e;const t=d.teams||d.participating_teams||d.event_teams||[],r=(null===(e=d.participation)||void 0===e?void 0:e.max_teams)||d.max_teams||0;return"".concat(t.length).concat(r?"/".concat(r):""," teams")})()})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-gray-500 dark:text-gray-400 font-medium mb-1",children:"Region"}),(0,o.jsx)("div",{className:"font-semibold text-gray-900 dark:text-white",children:(null===(n=d.details)||void 0===n?void 0:n.region)||d.region})]})]}),d.description&&(0,o.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,o.jsx)("p",{className:"text-gray-600 dark:text-gray-300 text-sm line-clamp-2",children:d.description})})]})]});var g};return n?(0,o.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,o.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading tournaments..."})]})}):(0,o.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Marvel Rivals Tournaments"}),(0,o.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete tournament coverage with brackets, results, and live updates"})]}),(j()||f())&&(0,o.jsx)("button",{onClick:()=>t&&t("admin-event-create"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold",children:"Create Tournament"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:r.filter((e=>"ongoing"===e.status||"live"===e.status)).length}),(0,o.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Live Tournaments"})]}),(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.filter((e=>"upcoming"===e.status)).length}),(0,o.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upcoming"})]}),(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,o.jsx)("div",{className:"text-2xl font-bold text-gray-600 dark:text-gray-400",children:r.filter((e=>"completed"===e.status)).length}),(0,o.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed"})]}),(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",r.reduce(((e,t)=>{var r;return e+((null===(r=t.details)||void 0===r?void 0:r.prize_pool)||t.prize_pool||0)}),0).toLocaleString()]}),(0,o.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Prize Pool"})]})]}),(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg mb-6",children:[(0,o.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[(0,o.jsx)("button",{onClick:()=>g("ongoing"),className:"flex-1 px-6 py-4 text-sm font-medium transition-colors ".concat("ongoing"===c?"text-green-600 dark:text-green-400 border-b-2 border-green-600 dark:border-green-400 bg-green-50 dark:bg-green-900/10":"text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-green-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:(0,o.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[r.filter((e=>"ongoing"===e.status||"live"===e.status)).length>0&&(0,o.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,o.jsxs)("span",{children:["Live & Ongoing (",r.filter((e=>"ongoing"===e.status||"live"===e.status)).length,")"]})]})}),(0,o.jsxs)("button",{onClick:()=>g("upcoming"),className:"flex-1 px-6 py-4 text-sm font-medium transition-colors ".concat("upcoming"===c?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/10":"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:["Upcoming (",r.filter((e=>"upcoming"===e.status)).length,")"]}),(0,o.jsxs)("button",{onClick:()=>g("completed"),className:"flex-1 px-6 py-4 text-sm font-medium transition-colors ".concat("completed"===c?"text-gray-600 dark:text-gray-400 border-b-2 border-gray-600 dark:border-gray-400 bg-gray-50 dark:bg-gray-900/10":"text-gray-700 dark:text-gray-300 hover:text-gray-600 dark:hover:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:["Completed (",r.filter((e=>"completed"===e.status)).length,")"]}),(0,o.jsxs)("button",{onClick:()=>g("all"),className:"flex-1 px-6 py-4 text-sm font-medium transition-colors ".concat("all"===c?"text-red-600 dark:text-red-400 border-b-2 border-red-600 dark:border-red-400 bg-red-50 dark:bg-red-900/10":"text-gray-700 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:["All Tournaments (",r.length,")"]})]}),(0,o.jsx)("div",{className:"p-6",children:(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search Tournaments"}),(0,o.jsx)("input",{type:"text",placeholder:"Tournament name...",value:x,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 pl-10 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),(0,o.jsx)("svg",{className:"absolute left-3 top-9 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tournament Format"}),(0,o.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,o.jsx)("option",{value:"all",children:"All Formats"}),(0,o.jsx)("option",{value:"single_elimination",children:"Single Elimination"}),(0,o.jsx)("option",{value:"double_elimination",children:"Double Elimination"}),(0,o.jsx)("option",{value:"swiss",children:"Swiss System"}),(0,o.jsx)("option",{value:"round_robin",children:"Round Robin"}),(0,o.jsx)("option",{value:"group_stage",children:"Group Stage"}),(0,o.jsx)("option",{value:"gsl",children:"GSL Format"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Region"}),(0,o.jsxs)("select",{value:b,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,o.jsx)("option",{value:"all",children:"All Regions"}),(0,o.jsx)("option",{value:"INTL",children:"International"}),(0,o.jsx)("option",{value:"NA",children:"North America"}),(0,o.jsx)("option",{value:"EU",children:"Europe"}),(0,o.jsx)("option",{value:"APAC",children:"Asia-Pacific"}),(0,o.jsx)("option",{value:"CN",children:"China"}),(0,o.jsx)("option",{value:"BR",children:"Brazil"}),(0,o.jsx)("option",{value:"LATAM",children:"LATAM"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prize Pool"}),(0,o.jsxs)("select",{value:p,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,o.jsx)("option",{value:"all",children:"Any Amount"}),(0,o.jsx)("option",{value:"under_10k",children:"Under $10,000"}),(0,o.jsx)("option",{value:"10k_50k",children:"$10,000 - $50,000"}),(0,o.jsx)("option",{value:"50k_100k",children:"$50,000 - $100,000"}),(0,o.jsx)("option",{value:"over_100k",children:"Over $100,000"})]})]})]})})]}),w.length>0?(0,o.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:w.map((e=>(0,o.jsx)(_,{tournament:e},e.id)))}):(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg py-12 text-center",children:[(0,o.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,o.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:["No ","all"===c?"":c," tournaments found"]}),(0,o.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:x?"No tournaments matching your search criteria":"upcoming"===c?"No upcoming tournaments scheduled at the moment":"ongoing"===c?"No tournaments currently running":"completed"===c?"No completed tournaments to show":"No tournaments available"})]})]})}}}]);