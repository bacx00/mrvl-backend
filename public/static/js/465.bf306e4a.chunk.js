"use strict";(self.webpackChunkmrvl_frontend=self.webpackChunkmrvl_frontend||[]).push([[465],{4758:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(9950),s=a(4414);const l=function(e){let{onImageSelect:t,currentImage:a,placeholder:l="Upload Image",accept:n="image/*",maxSize:d=5242880,className:i=""}=e;const[o,c]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!1),[m,g]=(0,r.useState)(a||null),[h,y]=(0,r.useState)(null),b=(0,r.useRef)(null);(0,r.useEffect)((()=>{g(a||null)}),[a]);const v=async e=>{const a=e[0];if(a)if(y(null),a.type.startsWith("image/"))if(a.size>d)y("File size must be less than ".concat(Math.round(d/1024/1024),"MB"));else{u(!0);try{const e=URL.createObjectURL(a);g(e),t&&"function"===typeof t&&t(a,e)}catch(r){console.error("Error processing image:",r),y("Error processing image. Please try again."),g(null)}finally{u(!1)}}else y("Please select an image file")},p=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)},f=()=>{var e;null===(e=b.current)||void 0===e||e.click()};return(0,s.jsxs)("div",{className:"relative ".concat(i),children:[(0,s.jsx)("input",{ref:b,type:"file",accept:n,onChange:e=>{e.target.files&&e.target.files[0]&&v(e.target.files)},className:"hidden"}),m?(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("img",{src:m,alt:"Preview",className:"w-full h-32 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center space-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:f,className:"px-3 py-1 bg-white text-gray-900 text-sm rounded hover:bg-gray-100 transition-colors",children:"Change"}),(0,s.jsx)("button",{type:"button",onClick:()=>{g(null),y(null),t&&"function"===typeof t&&t(null,null),b.current&&(b.current.value="")},className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Remove"})]})]}):(0,s.jsx)("div",{onClick:f,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&v(e.dataTransfer.files)},className:"\n            w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-all\n            flex flex-col items-center justify-center text-center p-4\n            ".concat(o?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 hover:border-red-400 hover:bg-gray-50 dark:hover:bg-gray-700/50","\n          "),children:x?(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-red-500 border-t-transparent rounded-full animate-spin mb-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Processing..."})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("svg",{className:"w-8 h-8 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:l}),(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Drag & drop or click to select"}),(0,s.jsxs)("span",{className:"text-xs text-gray-400 dark:text-gray-600 mt-1",children:["Max ",Math.round(d/1024/1024),"MB"]})]})}),h&&(0,s.jsx)("div",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:h})]})}},6666:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(2555),s=a(9950),l=a(5150),n=a(6781),d=a(4414);const i=function(){const{api:e}=(0,l.As)(),[t,a]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[c,x]=(0,s.useState)(!0),[u,m]=(0,s.useState)(null),[g,h]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1),[v,p]=(0,s.useState)(null),[f,j]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[k,C]=(0,s.useState)(!1),[A,S]=(0,s.useState)({targetCategoryId:"",action:"reassign"}),[_,E]=(0,s.useState)({title:"",content:"",excerpt:"",category_id:null,status:"draft",featured_image:"",tags:"",author:"",published_at:"",scheduled_at:"",is_featured:!1,allow_comments:!0,seo_title:"",seo_description:"",reading_time:0}),[D,L]=(0,s.useState)(!1),[F,M]=(0,s.useState)(!1),[z,R]=(0,s.useState)(null),[T,I]=(0,s.useState)([]),[U,P]=(0,s.useState)({}),[B,O]=(0,s.useState)([]),[H,q]=(0,s.useState)(!1),[V,W]=(0,s.useState)(!1),[X,G]=(0,s.useState)({format:"csv",dateRange:"all",includeComments:!0,includeAnalytics:!0}),[J,Y]=(0,s.useState)({name:"",description:"",color:"#3B82F6"}),[K,Q]=(0,s.useState)({search:"",category:"all",status:"all"}),[Z,$]=(0,s.useState)(new Set),[ee,te]=(0,s.useState)(!1);(0,s.useEffect)((()=>{le(),ne()}),[]),(0,s.useEffect)((()=>{t.length>0&&(ae(),re())}),[t]);const ae=async()=>{try{var t;const a=await e.get("/admin/news-moderation"),r=(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data)||(null===a||void 0===a?void 0:a.data)||[],s=Array.isArray(r)?r.filter((e=>e.featured)):[];O(s)}catch(a){console.warn("Could not load featured articles:",a),O([])}},re=async()=>{try{const e={};t.forEach((t=>{e[t.id]={views:Math.floor(1e3*Math.random())+50,comments:Math.floor(20*Math.random()),engagement:Math.floor(100*Math.random())+10}})),P(e)}catch(e){console.warn("Could not load article analytics:",e),P({})}},se=async t=>{try{var a,r,s;let n;try{n=await e.get("/admin/news-moderation/".concat(t,"/comments"))}catch(l){n=await e.get("/news/".concat(t,"/comments"))}const d=(null===(a=n)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.data)||(null===(s=n)||void 0===s?void 0:s.data)||[];I(Array.isArray(d)?d:[])}catch(n){console.warn("Could not load comments:",n),I([])}},le=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;try{var s;x(!0);const l=await e.get("/admin/news-moderation?page=".concat(t,"&limit=").concat(r)),n=(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.data)||(null===l||void 0===l?void 0:l.data)||l||[];a(Array.isArray(n)?n:[]),m(null)}catch(d){var l,n;const e=(null===(l=d.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||d.message||"Failed to load news";m(e),console.error("Error fetching news:",d),a([])}finally{x(!1)}},ne=async()=>{try{var t;const a=await e.get("/admin/news-moderation/categories"),r=(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data)||(null===a||void 0===a?void 0:a.data)||a||[];o(Array.isArray(r)?r:[])}catch(s){var a,r;console.error("Error fetching categories:",s);const e=(null===(a=s.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||"Failed to load categories";console.warn("Categories fetch error:",e),o([])}},de=(0,s.useMemo)((()=>{let e=[...t];if(K.search.trim()){const t=K.search.toLowerCase();e=e.filter((e=>{var a,r,s;return(null===(a=e.title)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.content)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(s=e.excerpt)||void 0===s?void 0:s.toLowerCase().includes(t))}))}return"all"!==K.category&&(e=e.filter((e=>{var t;return(null===(t=e.category_id)||void 0===t?void 0:t.toString())===K.category}))),"all"!==K.status&&(e=e.filter((e=>e.status===K.status))),e.sort(((e,t)=>new Date(t.created_at||0)-new Date(e.created_at||0)))}),[t,K]),ie=()=>{E({title:"",content:"",excerpt:"",category_id:null,status:"draft",featured_image:"",tags:"",author:"",published_at:""}),p(null),h(!0)},oe=async(t,a)=>{try{var r;const l=await e.put("/admin/news-moderation/".concat(t),{featured:!a});var s;if(!1===(null===(r=l.data)||void 0===r?void 0:r.success))throw new Error((null===(s=l.data)||void 0===s?void 0:s.message)||"Feature toggle failed");await le(),await ae(),alert("Article ".concat(a?"unfeatured":"featured"," successfully!"))}catch(u){console.error("Error toggling featured status:",u),alert("Failed to update featured status")}},ce=async(t,a)=>{try{var r;const l=await e.post("/admin/comments/".concat(t,"/").concat(a));var s;if(!1===(null===(r=l.data)||void 0===r?void 0:r.success))throw new Error((null===(s=l.data)||void 0===s?void 0:s.message)||"Comment action failed");await se(z.id),alert("Comment ".concat(a,"ed successfully!"))}catch(u){console.error("Error performing comment action:",u),alert("Failed to perform comment action")}},xe=async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var s;const n={reassign_to_category_id:a,delete_articles:r},d=await e.delete("/admin/news-moderation/categories/".concat(t),{data:n});var l;if(!1===(null===(s=d.data)||void 0===s?void 0:s.success))throw new Error((null===(l=d.data)||void 0===l?void 0:l.message)||"Delete failed");await ne(),await le(),alert("Category deleted successfully!")}catch(u){var n,d;console.error("Error deleting category:",u);const t=(null===(n=u.response)||void 0===n||null===(d=n.data)||void 0===d?void 0:d.message)||u.message||"Error deleting category";alert(t)}},ue=()=>{h(!1),b(!1),C(!1),p(null),j(null),N(null),S({targetCategoryId:"",action:"reassign"})},me=async t=>{if(0===Z.size)return;const a='Are you sure you want to change status to "'.concat(t,'" for ').concat(Z.size," news articles?");if(window.confirm(a))try{var r;const a=await e.post("/admin/news-moderation/bulk-update",{news_ids:Array.from(Z),status:t});var s;if(!1===(null===(r=a.data)||void 0===r?void 0:r.success))throw new Error((null===(s=a.data)||void 0===s?void 0:s.message)||"Bulk update failed");await le(),$(new Set),te(!1),alert("".concat(Z.size," articles updated successfully!"))}catch(u){var l,n;console.error("Error in bulk status update:",u);const t=(null===(l=u.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||u.message||"Bulk update failed";alert(t)}};return c?(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map(((e,t)=>(0,d.jsx)("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"},t)))})}):(0,d.jsxs)("div",{className:"p-6 space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"News Management"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage news articles and content"})]}),(0,d.jsxs)("div",{className:"flex space-x-3",children:[(0,d.jsx)("button",{onClick:()=>{Y({name:"",description:"",color:"#3B82F6"}),j(null),b(!0)},className:"btn btn-secondary",children:"Manage Categories"}),(0,d.jsx)("button",{onClick:()=>q(!0),className:"btn btn-info",children:"Manage Featured"}),(0,d.jsx)("button",{onClick:()=>W(!0),className:"btn btn-outline-secondary",children:"Export Data"}),(0,d.jsx)("button",{onClick:ie,className:"btn btn-primary",children:"Create News Article"})]})]}),(0,d.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Search Articles"}),(0,d.jsx)("input",{type:"text",placeholder:"Search by title or content...",value:K.search,onChange:e=>Q((0,r.A)((0,r.A)({},K),{},{search:e.target.value})),className:"form-input"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Category"}),(0,d.jsxs)("select",{value:K.category,onChange:e=>Q((0,r.A)((0,r.A)({},K),{},{category:e.target.value})),className:"form-input",children:[(0,d.jsx)("option",{value:"all",children:"All Categories"}),i.map((e=>(0,d.jsx)("option",{value:e.id.toString(),children:e.name},e.id)))]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-900 dark:text-gray-100",children:"Status"}),(0,d.jsxs)("select",{value:K.status,onChange:e=>Q((0,r.A)((0,r.A)({},K),{},{status:e.target.value})),className:"form-input",children:[(0,d.jsx)("option",{value:"all",children:"All Status"}),(0,d.jsx)("option",{value:"published",children:"Published"}),(0,d.jsx)("option",{value:"draft",children:"Draft"})]})]}),(0,d.jsx)("div",{className:"flex items-end",children:(0,d.jsx)("button",{onClick:()=>Q({search:"",category:"all",status:"all"}),className:"btn btn-secondary w-full",children:"Clear Filters"})})]})}),ee&&(0,d.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-200",children:[Z.size," articles selected"]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>me("published"),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm",children:"Publish"}),(0,d.jsx)("button",{onClick:()=>me("draft"),className:"px-3 py-1 bg-yellow-600 hover:bg-yellow-700 text-white rounded text-sm",children:"Set as Draft"}),(0,d.jsx)("button",{onClick:async()=>{if(0===Z.size)return;const t="Are you sure you want to delete ".concat(Z.size," news articles? This action cannot be undone.");if(window.confirm(t))try{var a;const t=await e.post("/admin/news-moderation/bulk-delete",{news_ids:Array.from(Z)});var r;if(!1===(null===(a=t.data)||void 0===a?void 0:a.success))throw new Error((null===(r=t.data)||void 0===r?void 0:r.message)||"Bulk delete failed");await le(),$(new Set),te(!1),alert("".concat(Z.size," articles deleted successfully!"))}catch(u){var s,l;console.error("Error in bulk delete:",u);const t=(null===(s=u.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||u.message||"Bulk delete failed";alert(t)}},className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-sm",children:"Delete"})]})]}),(0,d.jsx)("button",{onClick:()=>{$(new Set),te(!1)},className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Clear Selection"})]})}),(0,d.jsxs)("div",{className:"space-y-4",children:[de.length>0&&(0,d.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-3",children:(0,d.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,d.jsx)("input",{type:"checkbox",checked:Z.size===de.length&&de.length>0,onChange:()=>{Z.size===de.length?($(new Set),te(!1)):($(new Set(de.map((e=>e.id)))),te(!0))},className:"rounded border-gray-300 dark:border-gray-600"}),(0,d.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:["Select all ",de.length," articles"]})]})}),de.map((t=>{var a,r,s,l,n,i,o;return(0,d.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)("input",{type:"checkbox",checked:Z.has(t.id),onChange:()=>(e=>{const t=new Set(Z);t.has(e)?t.delete(e):t.add(e),$(t),te(t.size>0)})(t.id),className:"mt-1 rounded border-gray-300 dark:border-gray-600"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t.title}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:t.excerpt||(null===(a=t.content)||void 0===a?void 0:a.substring(0,200))+"..."}),(0,d.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[null!==(r=t.author)&&void 0!==r&&r.avatar?(0,d.jsx)("img",{src:t.author.avatar,alt:t.author.name,className:"w-6 h-6 rounded-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentElement.innerHTML='<div class="w-6 h-6 rounded-full bg-white border border-gray-300 flex items-center justify-center text-gray-600 font-bold text-xs">?</div>'}}):(0,d.jsx)("div",{className:"w-6 h-6 rounded-full bg-white border border-gray-300 flex items-center justify-center text-gray-600 font-bold text-xs",children:"?"}),(0,d.jsxs)("span",{children:["By ",(null===(s=t.author)||void 0===s?void 0:s.name)||"Admin"]})]}),(0,d.jsxs)("span",{children:["\ud83d\udcac ",t.comments_count||(null===(l=t.comments)||void 0===l?void 0:l.length)||0," comments"]}),(0,d.jsxs)("span",{children:["\ud83d\udcc5 ",t.published_at||null!==(n=t.meta)&&void 0!==n&&n.published_at?new Date(t.published_at||(null===(i=t.meta)||void 0===i?void 0:i.published_at)).toLocaleDateString():t.created_at?new Date(t.created_at).toLocaleDateString():"Not published"]}),t.reading_time&&(0,d.jsxs)("span",{children:["\ud83d\udd52 ",t.reading_time," min read"]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[t.featured&&(0,d.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400 text-xs rounded-full font-medium",children:"\u2b50 Featured"}),t.scheduled_at&&(0,d.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 text-xs rounded-full font-medium",children:"\ud83d\udd52 Scheduled"}),(0,d.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("published"===t.status?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"scheduled"===t.status?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"),children:t.status||"draft"})]})]}),t.category&&(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,d.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Category:"}),(0,d.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-sm rounded",children:t.category.name||t.category})]}),t.tags&&Array.isArray(t.tags)&&t.tags.length>0&&(0,d.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[t.tags.slice(0,3).map(((e,t)=>(0,d.jsxs)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-400 text-xs rounded",children:["#",e]},t))),t.tags.length>3&&(0,d.jsxs)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs rounded",children:["+",t.tags.length-3," more"]})]})]})]}),(0,d.jsxs)("div",{className:"flex flex-col space-y-2 ml-4",children:[(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>(e=>{p(e),E({title:e.title||"",content:e.content||"",excerpt:e.excerpt||"",category_id:e.category_id||null,status:e.status||"draft",featured_image:e.featured_image||"",tags:Array.isArray(e.tags)?e.tags.join(", "):e.tags||"",author:e.author||"",published_at:e.published_at||"",scheduled_at:e.scheduled_at||"",is_featured:e.featured||!1,allow_comments:!1!==e.allow_comments,seo_title:e.seo_title||"",seo_description:e.seo_description||"",reading_time:e.reading_time||0}),h(!0)})(t),className:"btn btn-outline-primary text-sm",children:"Edit"}),(0,d.jsx)("button",{onClick:()=>oe(t.id,t.featured),className:"btn btn-outline-info text-sm",children:t.featured?"Unfeature":"Feature"}),(0,d.jsx)("button",{className:"btn btn-outline-secondary text-sm",children:"View Analytics"})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsxs)("button",{onClick:()=>(e=>{R(e),se(e.id),M(!0)})(t),className:"btn btn-outline-warning text-sm",children:["Comments (",t.comments_count||(null===(o=t.comments)||void 0===o?void 0:o.length)||0,")"]}),(0,d.jsx)("button",{onClick:()=>{R(t),L(!0)},className:"btn btn-outline-info text-sm",children:"Schedule"}),(0,d.jsx)("button",{onClick:()=>(async(t,a)=>{if(window.confirm('Are you sure you want to delete "'.concat(a,'"?')))try{var r;const a=await e.delete("/admin/news-moderation/".concat(t));var s;if(!1===(null===(r=a.data)||void 0===r?void 0:r.success))throw new Error((null===(s=a.data)||void 0===s?void 0:s.message)||"Delete failed");await le(),alert("News deleted successfully!")}catch(u){var l,n;console.error("Error deleting news:",u);const t=(null===(l=u.response)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.message)||u.message||"Error deleting news";alert(t)}})(t.id,t.title),className:"btn btn-outline-danger text-sm",children:"Delete"})]})]})]})},t.id)}))]}),0===de.length&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf0"}),(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:0===t.length?"No News Articles":"No Articles Found"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:0===t.length?"Get started by creating your first news article.":"Try adjusting your filters to find more articles."}),0===t.length&&(0,d.jsx)("button",{onClick:ie,className:"btn btn-primary",children:"Create First Article"})]}),g&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v?"Edit Article":"Create New Article"}),(0,d.jsx)("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsx)(n.A,{newsId:null===v||void 0===v?void 0:v.id,navigateTo:e=>{h(!1),le()}})})]})}),y&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full",children:[(0,d.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Manage Categories"}),(0,d.jsx)("button",{onClick:ue,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)("div",{className:"space-y-4 mb-6 max-h-60 overflow-y-auto",children:i.map((e=>{const a=t.filter((t=>{var a;return(null===(a=t.category_id)||void 0===a?void 0:a.toString())===e.id.toString()})).length;return(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:e.color}}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-medium text-gray-900 dark:text-white",children:[e.name,a>0&&(0,d.jsxs)("span",{className:"ml-2 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-0.5 rounded-full",children:[a," articles"]})]}),e.description&&(0,d.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:[(0,d.jsx)("button",{onClick:()=>(e=>{j(e),Y({name:e.name||"",description:e.description||"",color:e.color||"#3B82F6"}),b(!0)})(e),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Edit"}),(0,d.jsx)("button",{onClick:()=>(async(e,a)=>{try{const r=t.filter((t=>{var a;return(null===(a=t.category_id)||void 0===a?void 0:a.toString())===e.toString()}));if(r.length>0)return N({id:e,name:a,articleCount:r.length}),S({targetCategoryId:"",action:"reassign"}),void C(!0);window.confirm('Are you sure you want to delete category "'.concat(a,'"?'))&&await xe(e)}catch(u){var r,s;console.error("Error preparing category deletion:",u);const t=(null===(r=u.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||u.message||"Error deleting category";alert(t)}})(e.id,e.name),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]},e.id)}))}),(0,d.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),J.name.trim())try{if(f){var a;const t=await e.put("/admin/news-moderation/categories/".concat(f.id),J);var r;if(!1===(null===(a=t.data)||void 0===a?void 0:a.success))throw new Error((null===(r=t.data)||void 0===r?void 0:r.message)||"Update failed");alert("Category updated successfully!")}else{var s;const t=await e.post("/admin/news-moderation/categories",J);var l;if(!1===(null===(s=t.data)||void 0===s?void 0:s.success))throw new Error((null===(l=t.data)||void 0===l?void 0:l.message)||"Creation failed");alert("Category created successfully!")}await ne(),b(!1)}catch(u){var n,d;console.error("Error submitting category:",u);const t=(null===(n=u.response)||void 0===n||null===(d=n.data)||void 0===d?void 0:d.message)||u.message||"Error ".concat(f?"updating":"creating"," category");alert(t)}else alert("Please enter a category name")},className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category Name *"}),(0,d.jsx)("input",{type:"text",required:!0,value:J.name,onChange:e=>Y((0,r.A)((0,r.A)({},J),{},{name:e.target.value})),className:"form-input",placeholder:"Enter category name"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,d.jsx)("input",{type:"text",value:J.description,onChange:e=>Y((0,r.A)((0,r.A)({},J),{},{description:e.target.value})),className:"form-input",placeholder:"Category description"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),(0,d.jsx)("input",{type:"color",value:J.color,onChange:e=>Y((0,r.A)((0,r.A)({},J),{},{color:e.target.value})),className:"form-input h-12"})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,d.jsx)("button",{type:"button",onClick:ue,className:"btn btn-secondary",children:"Close"}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary",children:f?"Update Category":"Add Category"})]})]})]})]})}),k&&w&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full",children:[(0,d.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,d.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Delete Category: ",w.name]}),(0,d.jsx)("button",{onClick:ue,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[(0,d.jsx)("div",{className:"text-yellow-600 dark:text-yellow-400 text-lg",children:"\u26a0\ufe0f"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:["This category contains ",w.articleCount," articles"]}),(0,d.jsx)("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Choose what to do with these articles before deleting the category."})]})]})}),(0,d.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,d.jsx)("div",{children:(0,d.jsxs)("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,d.jsx)("input",{type:"radio",name:"reassignAction",value:"reassign",checked:"reassign"===A.action,onChange:e=>S((0,r.A)((0,r.A)({},A),{},{action:e.target.value})),className:"text-blue-600"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Reassign articles"}),(0,d.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Move all articles to another category"})]})]})}),"reassign"===A.action&&(0,d.jsxs)("div",{className:"ml-6 mt-3",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select target category:"}),(0,d.jsxs)("select",{value:A.targetCategoryId,onChange:e=>S((0,r.A)((0,r.A)({},A),{},{targetCategoryId:e.target.value})),className:"form-input w-full",required:!0,children:[(0,d.jsx)("option",{value:"",children:"Choose a category..."}),i.filter((e=>e.id!==w.id)).map((e=>(0,d.jsx)("option",{value:e.id,children:e.name},e.id))),(0,d.jsx)("option",{value:"null",children:"No Category"})]})]}),(0,d.jsx)("div",{children:(0,d.jsxs)("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,d.jsx)("input",{type:"radio",name:"reassignAction",value:"delete",checked:"delete"===A.action,onChange:e=>S((0,r.A)((0,r.A)({},A),{},{action:e.target.value})),className:"text-red-600"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-red-600 dark:text-red-400",children:"Delete all articles"}),(0,d.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Permanently delete all ",w.articleCount," articles (cannot be undone)"]})]})]})})]}),(0,d.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,d.jsx)("button",{type:"button",onClick:ue,className:"btn btn-secondary",children:"Cancel"}),(0,d.jsx)("button",{onClick:async()=>{if(w)try{const{action:e,targetCategoryId:t}=A;if("reassign"===e&&!t)return void alert("Please select a category to reassign articles to.");const a="reassign"===e?"This will reassign ".concat(w.articleCount,' articles to the selected category and then delete "').concat(w.name,'". Continue?'):'This will delete "'.concat(w.name,'" and all ').concat(w.articleCount," articles in it. This action cannot be undone. Continue?");window.confirm(a)&&(await xe(w.id,"reassign"===e?t:null,"delete"===e),C(!1),N(null),S({targetCategoryId:"",action:"reassign"}))}catch(u){console.error("Error in reassign operation:",u),alert("Failed to process category deletion. Please try again.")}},className:"btn ".concat("delete"===A.action?"btn-danger":"btn-primary"),children:"delete"===A.action?"Delete Category & Articles":"Reassign & Delete Category"})]})]})]})}),V&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full",children:[(0,d.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Export News Data"}),(0,d.jsx)("button",{onClick:()=>W(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,d.jsxs)("div",{className:"p-6 space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Export Format"}),(0,d.jsxs)("select",{value:X.format,onChange:e=>G((0,r.A)((0,r.A)({},X),{},{format:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white",children:[(0,d.jsx)("option",{value:"csv",children:"CSV (Comma Separated)"}),(0,d.jsx)("option",{value:"xlsx",children:"Excel (XLSX)"}),(0,d.jsx)("option",{value:"json",children:"JSON"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),(0,d.jsxs)("select",{value:X.dateRange,onChange:e=>G((0,r.A)((0,r.A)({},X),{},{dateRange:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white",children:[(0,d.jsx)("option",{value:"all",children:"All Time"}),(0,d.jsx)("option",{value:"today",children:"Today"}),(0,d.jsx)("option",{value:"week",children:"Last 7 Days"}),(0,d.jsx)("option",{value:"month",children:"Last 30 Days"}),(0,d.jsx)("option",{value:"year",children:"Last Year"})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Include Additional Data"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",checked:X.includeComments,onChange:e=>G((0,r.A)((0,r.A)({},X),{},{includeComments:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600"}),(0,d.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"Include Comments Data"})]}),(0,d.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"checkbox",checked:X.includeAnalytics,onChange:e=>G((0,r.A)((0,r.A)({},X),{},{includeAnalytics:e.target.checked})),className:"rounded border-gray-300 dark:border-gray-600"}),(0,d.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-100",children:"Include Analytics (views, engagement)"})]})]})]})]}),(0,d.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex space-x-3",children:[(0,d.jsx)("button",{onClick:()=>W(!1),className:"btn btn-secondary flex-1",children:"Cancel"}),(0,d.jsx)("button",{onClick:async()=>{try{const t=new URLSearchParams({format:X.format,dateRange:X.dateRange,includeComments:X.includeComments,includeAnalytics:X.includeAnalytics}),a=await e.get("/admin/news-moderation/export?".concat(t),{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([a.data])),s=document.createElement("a");s.href=r,s.setAttribute("download","news-export-".concat((new Date).toISOString().split("T")[0],".").concat(X.format)),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(r),W(!1),alert("Export completed successfully!")}catch(u){console.error("Error exporting data:",u),alert("Failed to export data")}},className:"btn btn-primary flex-1",children:"Export Data"})]})]})}),H&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Featured Articles Management"}),(0,d.jsx)("button",{onClick:()=>q(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,d.jsx)("div",{className:"p-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:["Currently Featured (",B.length,")"]}),(0,d.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[B.map((e=>(0,d.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[(0,d.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:e.title}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.created_at?new Date(e.created_at).toLocaleDateString():"Unknown date"}),(0,d.jsx)("button",{onClick:()=>oe(e.id,!0),className:"text-purple-600 hover:text-purple-800 dark:text-purple-400 dark:hover:text-purple-300 text-sm",children:"Remove"})]})]},e.id))),0===B.length&&(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"text-4xl mb-2",children:"\u2b50"}),(0,d.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No featured articles"})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Available to Feature"}),(0,d.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.filter((e=>!e.featured&&"published"===e.status)).map((e=>{var t;return(0,d.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[(0,d.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:e.title}),(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsxs)("div",{className:"text-gray-600 dark:text-gray-400",children:[(0,d.jsx)("div",{children:e.created_at?new Date(e.created_at).toLocaleDateString():"Unknown date"}),(0,d.jsxs)("div",{children:["\ud83d\udc41\ufe0f ",(null===(t=U[e.id])||void 0===t?void 0:t.views)||0," views"]})]}),(0,d.jsx)("button",{onClick:()=>oe(e.id,!1),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm",children:"Feature"})]})]},e.id)}))})]})]})})]})}),F&&z&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,d.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Comment Moderation: ",z.title]}),(0,d.jsx)("button",{onClick:()=>M(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,d.jsx)("div",{className:"p-6",children:T.length>0?(0,d.jsx)("div",{className:"space-y-4",children:T.map((e=>{var t,a;return(0,d.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[null!==(t=e.user)&&void 0!==t&&t.avatar?(0,d.jsx)("img",{src:e.user.avatar,alt:e.user.name,className:"w-8 h-8 rounded-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentElement.innerHTML='<div class="w-8 h-8 rounded-full bg-white border border-gray-300 flex items-center justify-center text-gray-600 font-bold">?</div>'}}):(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-white border border-gray-300 flex items-center justify-center text-gray-600 font-bold",children:"?"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:(null===(a=e.user)||void 0===a?void 0:a.name)||e.author||"Anonymous"}),(0,d.jsx)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:e.created_at?new Date(e.created_at).toLocaleString():"Unknown time"})]}),(0,d.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("approved"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"pending"===e.status?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"),children:e.status||"pending"})]}),(0,d.jsx)("div",{className:"text-gray-900 dark:text-white mb-3",children:e.content}),e.reports&&e.reports.length>0&&(0,d.jsxs)("div",{className:"text-sm text-orange-600 dark:text-orange-400 mb-2",children:["\u26a0\ufe0f ",e.reports.length," report(s)"]})]}),(0,d.jsxs)("div",{className:"flex space-x-2",children:["approved"!==e.status&&(0,d.jsx)("button",{onClick:()=>ce(e.id,"approve"),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm",children:"Approve"}),"rejected"!==e.status&&(0,d.jsx)("button",{onClick:()=>ce(e.id,"reject"),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-sm",children:"Reject"}),(0,d.jsx)("button",{onClick:()=>ce(e.id,"delete"),className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white rounded text-sm",children:"Delete"})]})]})},e.id)}))}):(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcac"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Comments"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"This article has no comments to moderate."})]})})]})}),D&&z&&(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full",children:[(0,d.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,d.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Schedule Article: ",z.title]})}),(0,d.jsxs)("div",{className:"p-6 space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Schedule Date & Time"}),(0,d.jsx)("input",{type:"datetime-local",min:(new Date).toISOString().slice(0,16),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white",onChange:t=>{t.target.value&&(async(t,a)=>{try{var r;const l=await e.put("/admin/news-moderation/".concat(t),{status:"scheduled",scheduled_at:a});var s;if(!1===(null===(r=l.data)||void 0===r?void 0:r.success))throw new Error((null===(s=l.data)||void 0===s?void 0:s.message)||"Scheduling failed");await le(),alert("Article scheduled successfully!"),L(!1)}catch(u){console.error("Error scheduling article:",u),alert("Failed to schedule article")}})(z.id,t.target.value)}})]}),(0,d.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("div",{className:"text-blue-600 dark:text-blue-400",children:"\u2139\ufe0f"}),(0,d.jsx)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Scheduled articles will be automatically published at the specified time."})]})})]}),(0,d.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex space-x-3",children:(0,d.jsx)("button",{onClick:()=>{L(!1),R(null)},className:"btn btn-secondary flex-1",children:"Cancel"})})]})})]})}}}]);