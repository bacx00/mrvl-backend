"use strict";(self.webpackChunkmrvl_frontend=self.webpackChunkmrvl_frontend||[]).push([[847],{575:(e,n,t)=>{t.d(n,{A:()=>m});var a=t(2555),r=t(9950),s=t(6225),i=t(5150),o=t(4414);function c(e){let{round:n,roundIndex:t,totalRounds:a,navigateTo:r,isAdmin:s,onMatchUpdate:i,setEditingMatch:c,setTeam1Score:m,setTeam2Score:x}=e;return(0,o.jsxs)("div",{className:"bracket-round",children:[(0,o.jsxs)("div",{className:"round-header",children:[(0,o.jsx)("h3",{className:"round-title",children:n.name}),n.date&&(0,o.jsx)("div",{className:"round-date",children:new Date(n.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),(0,o.jsx)("div",{className:"round-matches",children:n.matches.map(((e,h)=>(0,o.jsxs)("div",{className:"match-container",style:{position:"relative"},children:[(0,o.jsx)(l,{match:e,navigateTo:r,isAdmin:s,onMatchUpdate:i,onEditMatch:e=>{var n,t;c(e),m((null===(n=e.team1)||void 0===n?void 0:n.score)||e.team1_score||0),x((null===(t=e.team2)||void 0===t?void 0:t.score)||e.team2_score||0)},showConnector:t<a-1}),t<a-1&&(0,o.jsx)(d,{matchIndex:h,totalMatches:n.matches.length})]},h)))})]})}function d(e){let{matchIndex:n,totalMatches:t}=e;const a=n%2===0;if(a&&n<t-1){const e="calc(100% + 2rem)";return(0,o.jsxs)("div",{className:"bracket-connectors",children:[(0,o.jsx)("div",{className:"connector-line connector-horizontal",style:{top:"50%",left:"100%",transform:"translateY(-50%)"}}),(0,o.jsx)("div",{className:"connector-line connector-vertical",style:{top:"50%",right:"1.5rem",height:e}}),(0,o.jsx)("div",{className:"connector-line connector-to-next",style:{top:"calc(50% + 1rem)",right:"0"}})]})}return a?null:(0,o.jsx)("div",{className:"bracket-connectors",children:(0,o.jsx)("div",{className:"connector-line connector-horizontal",style:{top:"50%",left:"100%",transform:"translateY(-50%)"}})})}function l(e){let{match:n,navigateTo:t,isAdmin:a,onMatchUpdate:r,showConnector:i,onEditMatch:c}=e;const d="completed"===n.status||n.finished,l="live"===n.status,m=d&&(1===n.winner||n.team1_score>n.team2_score),x=d&&(2===n.winner||n.team2_score>n.team1_score),h=(e,n)=>{n.stopPropagation(),e&&e.id&&t&&t("team-detail",{id:e.id})},p=e=>e?e.short_name||e.name||e.title:null,u=(e,t)=>void 0!==n["team".concat(t,"_score")]?n["team".concat(t,"_score")]:e&&void 0!==e.score?e.score:"-",b=e=>e?(0,o.jsx)("div",{className:"team-logo",children:(0,o.jsx)(s.LE,{team:e,size:"w-4 h-4",fallback:(0,o.jsx)("div",{className:"team-logo-fallback",children:(e.name||e.short_name||"T").charAt(0).toUpperCase()})})}):null,g=e=>e?e.seed?"#".concat(e.seed):e.seeding?"#".concat(e.seeding):null:null;return console.log("\ud83d\udd27 LiquipediaMatch render - isAdmin:",a,"match.id:",n.id),(0,o.jsxs)("div",{className:"liquipedia-match ".concat(l?"live":""," ").concat(d?"completed":""," ").concat(a?"admin-editable":""),onClick:()=>{a&&c?c(n):t&&t("match-detail",{id:n.id})},title:a?"Click to edit match score":"Click for match details",children:[(0,o.jsxs)("div",{className:"match-header",children:[(0,o.jsx)("span",{className:"match-format",children:(()=>{if(n.format){return{best_of_3:"Bo3",best_of_5:"Bo5",best_of_7:"Bo7",single_game:"1 Game",double_elimination:"DE",single_elimination:"SE",swiss:"Swiss",round_robin:"RR"}[n.format]||n.format}return n.bestof?"Bo".concat(n.bestof):"Bo5"})()}),a&&(0,o.jsx)("span",{className:"admin-indicator",style:{fontSize:"9px",color:"#dc2626",fontWeight:"bold"},children:"\u270e EDIT"}),l&&(0,o.jsxs)("div",{className:"live-indicator",children:[(0,o.jsx)("div",{className:"live-dot"}),(0,o.jsx)("span",{children:"LIVE"})]})]}),(0,o.jsxs)("div",{className:"teams-container",children:[(0,o.jsxs)("div",{className:"team-row ".concat(m?"winner":x?"loser":""),children:[(0,o.jsx)("div",{className:"team-info",children:n.team1||n.opponent1?(0,o.jsxs)(o.Fragment,{children:[g(n.team1||n.opponent1)&&(0,o.jsx)("span",{className:"team-seed",children:g(n.team1||n.opponent1)}),b(n.team1||n.opponent1),(0,o.jsx)("span",{className:"team-name team-clickable",onClick:e=>h(n.team1||n.opponent1,e),children:p(n.team1||n.opponent1)})]}):(0,o.jsx)("span",{className:"team-name team-placeholder",children:"TBD"})}),(0,o.jsx)("div",{className:"team-score ".concat(m?"winner":d||l?"":"pending"),children:u(n.team1||n.opponent1,1)})]}),(0,o.jsxs)("div",{className:"team-row ".concat(x?"winner":m?"loser":""),children:[(0,o.jsx)("div",{className:"team-info",children:n.team2||n.opponent2?(0,o.jsxs)(o.Fragment,{children:[g(n.team2||n.opponent2)&&(0,o.jsx)("span",{className:"team-seed",children:g(n.team2||n.opponent2)}),b(n.team2||n.opponent2),(0,o.jsx)("span",{className:"team-name team-clickable",onClick:e=>h(n.team2||n.opponent2,e),children:p(n.team2||n.opponent2)})]}):(0,o.jsx)("span",{className:"team-name team-placeholder",children:"TBD"})}),(0,o.jsx)("div",{className:"team-score ".concat(x?"winner":d||l?"":"pending"),children:u(n.team2||n.opponent2,2)})]})]}),i&&(0,o.jsx)("div",{className:"match-connector"})]})}const m=function(e){let{bracket:n,event:t,eventId:s,navigateTo:d,isAdmin:l=!1,onMatchUpdate:m}=e;console.log("LiquipediaBracket props:",{bracket:n,event:t,eventId:s});const[x,h]=(0,r.useState)(null),[p,u]=(0,r.useState)(0),[b,g]=(0,r.useState)(0),{api:v}=(0,i.As)();if(!n)return(0,o.jsx)("div",{className:"liquipedia-bracket-empty",children:(0,o.jsxs)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,o.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfc6"}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Bracket Generated"}),(0,o.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The tournament bracket hasn't been generated yet"}),l&&(0,o.jsx)("p",{className:"text-sm text-gray-500",children:"Use the admin controls to generate the bracket"})]})});const f=(e,n)=>({0:"Final",1:"Semifinals",2:"Quarterfinals",3:"Round of 16",4:"Round of 32",5:"Round of 64"}[n-e-1]||"Round ".concat(e+1)),k=(e=>{if(e.rounds&&"object"===typeof e.rounds&&!Array.isArray(e.rounds)){const n=[],t=Object.keys(e.rounds);return t.sort(((n,t)=>{const a=e.rounds[n],r=e.rounds[t];return(a.round_number||0)-(r.round_number||0)})),t.forEach((t=>{const a=e.rounds[t];n.push({name:t,matches:a.matches||[]})})),n}if(e.rounds&&Array.isArray(e.rounds))return e.rounds.map(((n,t)=>({name:f(t,e.rounds.length),matches:n.matches||[]})));if(e.matches&&Array.isArray(e.matches)){const n={};e.matches.forEach((e=>{const t=e.round_name||"Round ".concat(e.round_number||1);n[t]||(n[t]={name:t,round_number:e.round_number||1,matches:[]}),n[t].matches.push(e)}));const t=Object.values(n);return t.sort(((e,n)=>(e.round_number||0)-(n.round_number||0))),t}return[]})(n),w=async()=>{if(x)try{var e;const n=await v.put("/admin/bracket-matches/".concat(x.id,"/score"),{team1_score:parseInt(p),team2_score:parseInt(b)});if(null!==(e=n.data)&&void 0!==e&&e.success){console.log("\u2705 Score updated successfully");const e=n.data.data;setLocalBracket((n=>{if(!n)return n;const t=JSON.parse(JSON.stringify(n));if(t.rounds&&Object.keys(t.rounds).forEach((n=>{const r=t.rounds[n];if(r.matches){const n=r.matches.findIndex((e=>e.id===x.id));-1!==n&&(r.matches[n]=(0,a.A)((0,a.A)({},r.matches[n]),{},{team1_score:parseInt(p),team2_score:parseInt(b),status:(null===e||void 0===e?void 0:e.status)||r.matches[n].status,winner_id:(null===e||void 0===e?void 0:e.winner_id)||null,loser_id:(null===e||void 0===e?void 0:e.loser_id)||null}))}})),t.matches){const n=t.matches.findIndex((e=>e.id===x.id));-1!==n&&(t.matches[n]=(0,a.A)((0,a.A)({},t.matches[n]),{},{team1_score:parseInt(p),team2_score:parseInt(b),status:(null===e||void 0===e?void 0:e.status)||t.matches[n].status,winner_id:(null===e||void 0===e?void 0:e.winner_id)||null,loser_id:(null===e||void 0===e?void 0:e.loser_id)||null}))}return t})),h(null),u(0),g(0),m&&m(x.id,{team1_score:parseInt(p),team2_score:parseInt(b),status:null===e||void 0===e?void 0:e.status,winner_id:null===e||void 0===e?void 0:e.winner_id})}}catch(n){console.error("Error updating match score:",n),alert("Failed to update match score")}},y=()=>{h(null),u(0),g(0)};return(0,o.jsxs)("div",{className:"liquipedia-bracket",children:[(0,o.jsx)("style",{children:"\n        .liquipedia-bracket {\n          --bracket-bg: transparent;\n          --bracket-match-bg: #ffffff;\n          --bracket-border: #d3d3d3;\n          --bracket-text: #000000;\n          --bracket-text-muted: #666666;\n          --bracket-winner: #228b22;\n          --bracket-loser: #999999;\n          --bracket-live: #ff6b35;\n          --bracket-pending: #e6e6e6;\n          --bracket-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);\n          --bracket-hover-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\n        }\n\n        .dark .liquipedia-bracket {\n          --bracket-bg: transparent;\n          --bracket-match-bg: #3a3a3a;\n          --bracket-border: #555555;\n          --bracket-text: #ffffff;\n          --bracket-text-muted: #cccccc;\n          --bracket-winner: #4ade80;\n          --bracket-loser: #9ca3af;\n          --bracket-live: #ff6b35;\n          --bracket-pending: #555555;\n          --bracket-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n          --bracket-hover-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);\n        }\n\n        .bracket-container {\n          overflow-x: auto;\n          overflow-y: visible;\n          padding: 1rem 0;\n          min-height: 400px;\n        }\n\n        .bracket-rounds {\n          display: flex;\n          gap: 40px;\n          align-items: flex-start;\n          min-width: fit-content;\n          justify-content: flex-start;\n          padding: 8px;\n        }\n\n        .bracket-round {\n          display: flex;\n          flex-direction: column;\n          min-width: 200px;\n          position: relative;\n        }\n\n        .round-header {\n          text-align: center;\n          margin-bottom: 12px;\n          padding: 4px 8px;\n          background: var(--bracket-pending);\n          border: 1px solid var(--bracket-border);\n          border-radius: 3px;\n        }\n\n        .round-title {\n          font-size: 11px;\n          font-weight: 700;\n          color: var(--bracket-text);\n          margin-bottom: 2px;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n\n        .round-date {\n          font-size: 9px;\n          color: var(--bracket-text-muted);\n          font-weight: 400;\n        }\n\n        .round-matches {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n          position: relative;\n        }\n\n        .liquipedia-match {\n          background: var(--bracket-match-bg);\n          border: 1px solid var(--bracket-border);\n          border-radius: 3px;\n          overflow: hidden;\n          box-shadow: var(--bracket-shadow);\n          transition: all 0.15s ease;\n          cursor: pointer;\n          position: relative;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n          font-size: 12px;\n          min-width: 200px;\n        }\n\n        .liquipedia-match.admin-editable {\n          border-color: #dc2626;\n          border-width: 2px;\n        }\n\n        .liquipedia-match.admin-editable:hover {\n          box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.2);\n        }\n\n        .liquipedia-match:hover {\n          box-shadow: var(--bracket-hover-shadow);\n          transform: translateY(-1px);\n        }\n\n        .liquipedia-match.live {\n          border-color: var(--bracket-live);\n          animation: pulse-glow 2s infinite;\n        }\n\n        .liquipedia-match.completed {\n          border-color: var(--bracket-winner);\n        }\n\n        .match-header {\n          background: var(--bracket-pending);\n          padding: 4px 8px;\n          border-bottom: 1px solid var(--bracket-border);\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          font-size: 10px;\n          text-transform: uppercase;\n          font-weight: 600;\n        }\n\n        .dark .match-header {\n          background: var(--bracket-pending);\n        }\n\n        .match-format {\n          font-size: 0.75rem;\n          font-weight: 500;\n          color: var(--bracket-text-muted);\n        }\n\n        .live-indicator {\n          color: var(--bracket-live);\n          font-size: 0.75rem;\n          font-weight: 600;\n          display: flex;\n          align-items: center;\n          gap: 0.25rem;\n        }\n\n        .live-dot {\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          background: var(--bracket-live);\n          animation: pulse-dot 1.5s infinite;\n        }\n\n        .teams-container {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .team-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 6px 8px;\n          transition: background-color 0.15s ease;\n          min-height: 26px;\n          border-right: 3px solid transparent;\n        }\n\n        .team-row:first-child {\n          border-bottom: 1px solid var(--bracket-border);\n        }\n\n        .team-row.winner {\n          background: rgba(34, 139, 34, 0.08);\n          border-right-color: var(--bracket-winner);\n          font-weight: 600;\n        }\n\n        .team-row.loser {\n          opacity: 0.6;\n          color: var(--bracket-loser);\n          background: rgba(153, 153, 153, 0.03);\n        }\n\n        .team-info {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          flex: 1;\n          min-width: 0;\n        }\n\n        .team-logo {\n          flex-shrink: 0;\n          border-radius: 2px;\n          overflow: hidden;\n          background: transparent;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 16px;\n          height: 16px;\n        }\n\n        .team-logo img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n\n        .team-logo-fallback {\n          font-size: 8px;\n          font-weight: 700;\n          color: var(--bracket-text-muted);\n          width: 16px;\n          height: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: var(--bracket-pending);\n          border-radius: 2px;\n        }\n\n        .team-name {\n          font-weight: 500;\n          font-size: 11px;\n          color: var(--bracket-text);\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          transition: color 0.15s ease;\n          max-width: 120px;\n        }\n\n        .team-name.team-clickable {\n          cursor: pointer;\n          color: var(--bracket-text);\n          transition: color 0.15s ease;\n        }\n\n        .team-name.team-clickable:hover {\n          color: #dc2626;\n          text-decoration: underline;\n        }\n\n        .team-placeholder {\n          font-style: italic;\n          color: var(--bracket-text-muted);\n          font-size: 0.8rem;\n        }\n\n        .team-seed {\n          font-size: 0.7rem;\n          color: var(--bracket-text-muted);\n          background: var(--bracket-pending);\n          padding: 0.125rem 0.375rem;\n          border-radius: 10px;\n          font-weight: 500;\n          margin-right: 0.25rem;\n        }\n\n        .team-score {\n          font-weight: 700;\n          font-size: 14px;\n          color: var(--bracket-text);\n          min-width: 20px;\n          text-align: center;\n          transition: all 0.15s ease;\n          padding: 2px 6px;\n          border-radius: 2px;\n          background: rgba(0, 0, 0, 0.05);\n          border: 1px solid var(--bracket-border);\n        }\n\n        .dark .team-score {\n          background: rgba(255, 255, 255, 0.1);\n        }\n\n        .team-score.winner {\n          color: var(--bracket-winner);\n          background: rgba(34, 139, 34, 0.15);\n          border-color: var(--bracket-winner);\n          font-weight: 800;\n        }\n\n        .team-score.pending {\n          color: var(--bracket-text-muted);\n          font-size: 12px;\n          font-weight: 400;\n          background: transparent;\n          border: none;\n        }\n\n        .match-connector {\n          position: absolute;\n          right: -20px;\n          top: 50%;\n          width: 20px;\n          height: 1px;\n          background: var(--bracket-border);\n          transform: translateY(-50%);\n          pointer-events: none;\n        }\n\n        .bracket-round:last-child .match-connector {\n          display: none;\n        }\n\n        /* Simplified bracket connectors matching Liquipedia */\n        .bracket-connectors {\n          position: absolute;\n          right: -40px;\n          top: 0;\n          width: 40px;\n          height: 100%;\n          pointer-events: none;\n          z-index: 1;\n        }\n\n        .connector-line {\n          position: absolute;\n          background: var(--bracket-border);\n        }\n\n        .connector-horizontal {\n          height: 1px;\n          width: 20px;\n        }\n\n        .connector-vertical {\n          width: 1px;\n          right: 20px;\n        }\n\n        .connector-to-next {\n          height: 1px;\n          width: 20px;\n          right: 0;\n        }\n\n        /* Liquipedia-style bracket spacing - progressive doubling */\n        .bracket-round:nth-child(1) .round-matches {\n          gap: 8px;\n        }\n\n        .bracket-round:nth-child(2) .round-matches {\n          gap: 24px;\n        }\n\n        .bracket-round:nth-child(3) .round-matches {\n          gap: 56px;\n        }\n\n        .bracket-round:nth-child(4) .round-matches {\n          gap: 120px;\n        }\n\n        .bracket-round:nth-child(5) .round-matches {\n          gap: 248px;\n        }\n\n        @keyframes pulse-glow {\n          0%, 100% {\n            box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.2);\n          }\n          50% {\n            box-shadow: 0 0 0 4px rgba(220, 38, 38, 0.4);\n          }\n        }\n\n        @keyframes pulse-dot {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.5;\n          }\n        }\n\n        /* Responsive design */\n        @media (max-width: 1024px) {\n          .bracket-rounds {\n            gap: 2.5rem;\n          }\n          \n          .bracket-round {\n            min-width: 220px;\n          }\n          \n          .round-title {\n            font-size: 0.9rem;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .bracket-container {\n            padding: 0.5rem 0;\n          }\n          \n          .bracket-rounds {\n            gap: 2rem;\n          }\n          \n          .bracket-round {\n            min-width: 200px;\n          }\n          \n          .round-title {\n            font-size: 0.85rem;\n          }\n          \n          .team-name {\n            font-size: 0.75rem;\n          }\n          \n          .team-score {\n            font-size: 1.1rem;\n          }\n          \n          .team-row {\n            padding: 0.625rem;\n          }\n          \n          /* Simplify connectors on tablet */\n          .bracket-connectors {\n            right: -2rem;\n            width: 2rem;\n          }\n          \n          .match-connector {\n            right: -1rem;\n            width: 1rem;\n          }\n        }\n\n        @media (max-width: 640px) {\n          .bracket-rounds {\n            gap: 1.5rem;\n          }\n          \n          .bracket-round {\n            min-width: 180px;\n          }\n          \n          .round-header {\n            margin-bottom: 1rem;\n          }\n          \n          .round-title {\n            font-size: 0.8rem;\n          }\n          \n          .round-date {\n            font-size: 0.7rem;\n          }\n          \n          .liquipedia-match {\n            min-height: auto;\n          }\n          \n          .team-row {\n            padding: 0.5rem;\n          }\n          \n          .team-name {\n            font-size: 0.7rem;\n            max-width: 100px;\n          }\n          \n          .team-score {\n            font-size: 1rem;\n          }\n          \n          .match-format {\n            font-size: 0.7rem;\n          }\n          \n          .live-indicator {\n            font-size: 0.7rem;\n          }\n          \n          /* Hide connectors on mobile for cleaner look */\n          .bracket-connectors,\n          .match-connector {\n            display: none;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .bracket-rounds {\n            gap: 1rem;\n          }\n          \n          .bracket-round {\n            min-width: 160px;\n          }\n          \n          .team-row {\n            padding: 0.375rem 0.5rem;\n          }\n          \n          .team-name {\n            font-size: 0.65rem;\n            max-width: 80px;\n          }\n          \n          .team-score {\n            font-size: 0.9rem;\n          }\n          \n          .round-title {\n            font-size: 0.75rem;\n          }\n        }\n\n        /* Landscape mobile optimization */\n        @media (max-height: 500px) and (orientation: landscape) {\n          .bracket-container {\n            min-height: auto;\n            padding: 0.25rem 0;\n          }\n          \n          .round-header {\n            margin-bottom: 0.5rem;\n            position: static;\n          }\n          \n          .round-matches {\n            gap: 0.5rem;\n          }\n          \n          .team-row {\n            padding: 0.25rem 0.5rem;\n          }\n        }\n      "}),(0,o.jsx)("div",{className:"bracket-container",children:(0,o.jsx)("div",{className:"bracket-rounds",children:k.map(((e,n)=>(0,o.jsx)(c,{round:e,roundIndex:n,totalRounds:k.length,navigateTo:d,isAdmin:l,onMatchUpdate:m,setEditingMatch:h,setTeam1Score:u,setTeam2Score:g},n)))})}),(()=>{var e,n;return x?(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,o.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Update Match Score"}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:(null===(e=x.team1)||void 0===e?void 0:e.name)||"Team 1"}),(0,o.jsx)("input",{type:"number",min:"0",max:"3",value:p,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,o.jsx)("div",{className:"px-4 text-gray-500 dark:text-gray-400",children:"vs"}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:(null===(n=x.team2)||void 0===n?void 0:n.name)||"Team 2"}),(0,o.jsx)("input",{type:"number",min:"0",max:"3",value:b,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,o.jsx)("button",{onClick:y,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:"Cancel"}),(0,o.jsx)("button",{onClick:w,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Save Score"})]})]})]})}):null})()]})}},9549:(e,n,t)=>{t.d(n,{A:()=>s});t(9950);var a=t(6225),r=t(4414);const s=function(e){var n,t,s,i,o,c,d,l,m,x,h;let{match:p,navigateTo:u,isCompact:b=!1}=e;if(!p)return null;p.maps_data&&!Array.isArray(p.maps_data)&&(p.maps_data=[]);const g="completed"===p.status&&p.team1_score>p.team2_score,v="completed"===p.status&&p.team2_score>p.team1_score,f=e=>{if(!e)return"TBD";return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})},k=e=>{if(!e)return"";const n=new Date(e),t=new Date,a=new Date(t);return a.setDate(a.getDate()+1),n.toDateString()===t.toDateString()?"Today":n.toDateString()===a.toDateString()?"Tomorrow":n.toLocaleDateString("en-US",{month:"short",day:"numeric"})};var w,y,j,N;return b?(0,r.jsx)("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",onClick:()=>u&&u("match-detail",{id:p.id}),children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:(null===(w=p.team1)||void 0===w?void 0:w.short_name)||(null===(y=p.team1)||void 0===y?void 0:y.name)||"TBD"}),(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:(null===(j=p.team2)||void 0===j?void 0:j.short_name)||(null===(N=p.team2)||void 0===N?void 0:N.name)||"TBD"})]}),(0,r.jsx)("div",{className:"text-right",children:"live"===p.status?(0,r.jsx)("span",{className:"text-red-600 font-bold text-xs",children:"LIVE"}):"completed"===p.status?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"font-bold text-lg",children:[p.team1_score||0,"-",p.team2_score||0]}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:p.format||"BO3"})]}):(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:f(p.scheduled_at)})})]})}):(0,r.jsx)("div",{className:"card hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>u&&u("match-detail",{id:p.id}),children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(null===(n=p.event)||void 0===n?void 0:n.logo)&&(0,r.jsx)("div",{className:"w-6 h-6 rounded overflow-hidden flex-shrink-0",children:(0,r.jsx)("img",{src:(0,a.VG)(p.event.logo),alt:p.event.name,className:"w-full h-full object-cover",onError:e=>{e.target.src=(0,a.VG)(null,"event-banner")}})}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:(null===(t=p.event)||void 0===t?void 0:t.name)||"Scrim"}),(null===(s=p.event)||void 0===s?void 0:s.tier)&&(0,r.jsx)("span",{className:"px-1.5 py-0.5 text-xs font-bold rounded border ".concat("S"===p.event.tier?"bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-900/20 dark:text-yellow-200":"A"===p.event.tier?"bg-red-100 text-red-800 border-red-300 dark:bg-red-900/20 dark:text-red-200":"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/20 dark:text-blue-200"),children:p.event.tier})]}),(0,r.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:p.format||"BO3"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0 ".concat(g?"opacity-100":"completed"===p.status?"opacity-50":""),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(a.LE,{team:p.team1,size:"w-10 h-10",className:"flex-shrink-0"}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer truncate",onClick:e=>{var n;e.stopPropagation(),u&&u("team-detail",{id:null===(n=p.team1)||void 0===n?void 0:n.id})},title:(null===(i=p.team1)||void 0===i?void 0:i.name)||"TBD",children:(null===(o=p.team1)||void 0===o?void 0:o.name)||"TBD"}),(null===(c=p.team1)||void 0===c?void 0:c.country)&&(0,r.jsx)("span",{className:"text-sm flex-shrink-0",children:(0,a.xg)(p.team1.country)})]}),(null===(d=p.team1)||void 0===d?void 0:d.short_name)&&(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-500 truncate",children:p.team1.short_name})]})]})}),(0,r.jsx)("div",{className:"px-4 flex-shrink-0",children:(()=>{switch(p.status){case"live":return(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("span",{className:"bg-red-600 text-white px-3 py-1 text-xs font-bold rounded-full flex items-center animate-pulse",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-white rounded-full mr-1.5"}),"LIVE"]})});case"completed":return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(0,r.jsx)("span",{className:g?"text-green-600 dark:text-green-400":"",children:p.team1_score||0})," - ",(0,r.jsx)("span",{className:v?"text-green-600 dark:text-green-400":"",children:p.team2_score||0})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:[p.format||"BO3"," FINAL"]})]});default:return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900 dark:text-white",children:f(p.scheduled_at)}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:k(p.scheduled_at)})]})}})()}),(0,r.jsx)("div",{className:"flex-1 min-w-0 ".concat(v?"opacity-100":"completed"===p.status?"opacity-50":""),children:(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,r.jsxs)("div",{className:"text-right min-w-0 flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(null===(l=p.team2)||void 0===l?void 0:l.country)&&(0,r.jsx)("span",{className:"text-sm flex-shrink-0",children:(0,a.xg)(p.team2.country)}),(0,r.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer truncate",onClick:e=>{var n;e.stopPropagation(),u&&u("team-detail",{id:null===(n=p.team2)||void 0===n?void 0:n.id})},title:(null===(m=p.team2)||void 0===m?void 0:m.name)||"TBD",children:(null===(x=p.team2)||void 0===x?void 0:x.name)||"TBD"})]}),(null===(h=p.team2)||void 0===h?void 0:h.short_name)&&(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-500 truncate",children:p.team2.short_name})]}),(0,r.jsx)(a.LE,{team:p.team2,size:"w-10 h-10",className:"flex-shrink-0"})]})})]}),"live"===p.status&&p.viewers&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-500 dark:text-gray-500",children:[(0,r.jsxs)("span",{children:[p.viewers.toLocaleString()," viewers"]}),p.stream_url&&(0,r.jsx)("a",{href:p.stream_url,target:"_blank",rel:"noopener noreferrer",className:"text-red-600 dark:text-red-400 hover:underline",onClick:e=>e.stopPropagation(),children:(()=>{try{const n=new URL(p.stream_url),t=n.hostname.toLowerCase();if(t.includes("twitch.tv")){return n.pathname.split("/").filter((e=>e))[0]||"Twitch"}if(t.includes("youtube.com")||t.includes("youtu.be")){var e;const t=n.pathname.split("/").filter((e=>e));return t.includes("c")&&t[t.indexOf("c")+1]?t[t.indexOf("c")+1]:t.includes("channel")&&t[t.indexOf("channel")+1]?t[t.indexOf("channel")+1]:null!==(e=t[0])&&void 0!==e&&e.startsWith("@")?t[0].replace("@",""):"YouTube"}if(t.includes("kick.com")){return n.pathname.split("/").filter((e=>e))[0]||"Kick"}return t.split(".")[0].charAt(0).toUpperCase()+t.split(".")[0].slice(1)}catch(n){return"Watch Stream"}})()})]})}),"completed"===p.status&&p.maps_data&&Array.isArray(p.maps_data)&&p.maps_data.length>0&&(0,r.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsx)("div",{className:"flex items-center justify-center space-x-2 text-xs",children:p.maps_data.map(((e,n)=>(0,r.jsxs)("div",{className:"px-2 py-1 rounded ".concat(e.winner===p.team1_id?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200"),children:[e.map_name,": ",e.team1_score,"-",e.team2_score]},n)))})})]})})}}}]);