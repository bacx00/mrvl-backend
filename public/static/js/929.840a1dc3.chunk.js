"use strict";(self.webpackChunkmrvl_frontend=self.webpackChunkmrvl_frontend||[]).push([[929],{929:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var s=t(2555),o=t(9950),n=t(5150),r=t(3577),i=t(4414);const l={maps:[{name:"Hellfire Gala: Krakoa",mode:"Domination",icon:"fire",type:"Competitive"},{name:"Hydra Charteris Base: Hell's Heaven",mode:"Domination",icon:"gear",type:"Competitive"},{name:"Intergalactic Empire of Wakanda: Birnin T'Challa",mode:"Domination",icon:"gem",type:"Competitive"},{name:"Empire of Eternal Night: Central Park",mode:"Convoy",icon:"night",type:"Competitive"},{name:"Tokyo 2099: Spider-Islands",mode:"Convoy",icon:"cityscape",type:"Casual"},{name:"Yggsgard: Yggdrasill Path",mode:"Convoy",icon:"tree",type:"Casual"},{name:"Empire of Eternal Night: Midtown",mode:"Convoy",icon:"building",type:"Casual"},{name:"Empire of Eternal Night: Sanctum Sanctorum",mode:"Convergence",icon:"crystal",type:"Casual"},{name:"Klyntar: Symbiotic Surface",mode:"Convergence",icon:"heart",type:"Casual"},{name:"Intergalactic Empire of Wakanda: Hall of Djalia",mode:"Convergence",icon:"sparkles",type:"Casual"}],gameModes:{Convoy:{duration:1080,displayName:"Convoy",color:"blue",description:"Escort the payload to victory",icon:"truck"},Domination:{duration:720,displayName:"Domination",color:"red",description:"Control strategic points",icon:"flag"},Convergence:{duration:900,displayName:"Convergence",color:"purple",description:"Converge on objectives",icon:"lightning"},Conquest:{duration:1200,displayName:"Conquest",color:"green",description:"Capture and hold territory",icon:"gem"},"Doom Match":{duration:600,displayName:"Doom Match",color:"orange",description:"Eliminate all opponents",icon:"skull"},Escort:{duration:960,displayName:"Escort",color:"yellow",description:"Guide the target safely",icon:"shield"}},formats:[{value:"BO1",label:"BO1 - Best of 1",maps:1,description:"Single elimination match"},{value:"BO3",label:"BO3 - Best of 3",maps:3,description:"First to win 2 maps"},{value:"BO5",label:"BO5 - Best of 5",maps:5,description:"First to win 3 maps"},{value:"BO7",label:"BO7 - Best of 7",maps:7,description:"First to win 4 maps"},{value:"BO9",label:"BO9 - Best of 9",maps:9,description:"First to win 5 maps"}],statuses:[{value:"upcoming",label:"Upcoming",color:"blue"},{value:"live",label:"Live",color:"red"},{value:"completed",label:"Completed",color:"green"},{value:"cancelled",label:"Cancelled",color:"gray"},{value:"postponed",label:"Postponed",color:"yellow"}]},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BO1";const a=r.jz.find((a=>a.value===e)),t=(null===a||void 0===a?void 0:a.maps)||1,s=(0,r.Zw)(e),o=(0,r.qZ)(e);return console.log("INITIALIZING ".concat(e," match with ").concat(t," maps from Season 2.5 pool")),{team1_id:"",team2_id:"",event_id:"",scheduled_at:new Date(Date.now()+36e5).toISOString().slice(0,16),format:e,status:"upcoming",stream_urls:[""],betting_urls:[""],vod_urls:[""],round:"",bracket_position:"",allow_past_date:!1,team1_score:0,team2_score:0,maps:Array.from({length:t},((e,a)=>{const t=s[a]||s[0],n=o[a],i=r.ii[n];return{map_number:a+1,map_name:t.name,map_id:t.id,mode:n,timer:i.timer,icon:t.icon,team1_score:0,team2_score:0,team1_rounds:0,team2_rounds:0,status:"upcoming",winner_id:null,duration:null,overtime:!1,team1_composition:[],team2_composition:[],checkpoints_reached:[],capture_progress:0,payload_distance:0}})),viewers:0,featured:!1,map_pool:l.maps.slice(0,t)}};const d=function(e){var a,t,d,m;let{matchId:p,navigateTo:u}=e;const[g,x]=(0,o.useState)((()=>c())),[h,v]=(0,o.useState)([]),[b,y]=(0,o.useState)([]),[_,f]=(0,o.useState)(null),[j,k]=(0,o.useState)(null),[N,w]=(0,o.useState)({}),[C,S]=(0,o.useState)(!1),[A,E]=(0,o.useState)(!1),[T,M]=(0,o.useState)(r.pq),{api:R}=(0,n.As)(),B=Boolean(p);console.log("MatchForm: Using backend URL:","https://staging.mrvl.net"),(0,o.useEffect)((()=>{(async()=>{try{console.log("Loading heroes from backend API...");const e=await R.get("/heroes"),a=null===e||void 0===e?void 0:e.data;if(console.log("Heroes loaded from API:",a),a&&a.by_role){const e={};for(const[t,s]of Object.entries(a.by_role))Array.isArray(s)?e[t]=s.map((e=>"object"===typeof e&&e.name?e.name:e)):e[t]=s;M(e),console.log("Heroes state updated from API:",e)}}catch(e){console.error("Error loading heroes from API:",e),console.log("Using fallback heroes from initial state")}})()}),[R]),(0,o.useEffect)((()=>{(async()=>{S(!0);try{console.log("MatchForm: Fetching REAL backend data...");const n=await R.get("/teams"),r=(null===n||void 0===n?void 0:n.data)||[];v(Array.isArray(r)?r:[]),console.log("REAL Teams loaded:",r.length,r);const i=await R.get("/events"),l=(null===i||void 0===i?void 0:i.data)||[];if(y(Array.isArray(l)?l:[]),console.log("REAL Events loaded:",l.length,l),B&&p)try{console.log("Loading REAL match data for ID: ".concat(p));const o=await R.get("/admin/matches/".concat(p)),n=null===o||void 0===o?void 0:o.data;if(n){var e,a,t;console.log("REAL Match data loaded:",n);const o=c(n.format||"BO1"),i=n.maps_data&&n.maps_data.length>0?n.maps_data.map(((e,a)=>{var t,s,n,r;return{map_name:e.map_name||(null===(t=o.maps[a])||void 0===t?void 0:t.map_name)||"Tokyo 2099: Shibuya Sky",mode:e.mode||(null===(s=o.maps[a])||void 0===s?void 0:s.mode)||"Conquest",team1_composition:e.team1_composition||(null===(n=o.maps[a])||void 0===n?void 0:n.team1_composition)||[],team2_composition:e.team2_composition||(null===(r=o.maps[a])||void 0===r?void 0:r.team2_composition)||[]}})):o.maps,l=(0,s.A)((0,s.A)({},n),{},{team1_id:n.team1_id||(null===(e=n.team1)||void 0===e?void 0:e.id)||o.team1_id||"",team2_id:n.team2_id||(null===(a=n.team2)||void 0===a?void 0:a.id)||o.team2_id||"",event_id:n.event_id||(null===(t=n.event)||void 0===t?void 0:t.id)||o.event_id||"",format:n.format||o.format,scheduled_at:n.scheduled_at?new Date(n.scheduled_at).toISOString().slice(0,16):new Date(Date.now()+36e5).toISOString().slice(0,16),stream_urls:n.stream_urls||(n.stream_url?[n.stream_url]:[""]),betting_urls:n.betting_urls||(n.betting_url?[n.betting_url]:[""]),vod_urls:n.vod_urls||[""],round:n.round||"",bracket_position:n.bracket_position||"",allow_past_date:n.allow_past_date||!1,maps:i,map_pool:o.map_pool});x(l);const d=r.find((e=>e.id===l.team1_id)),m=r.find((e=>e.id===l.team2_id));f(d),k(m),d&&await D(d,"team1",l),m&&await D(m,"team2",l),console.log("Real match data loaded and players populated")}}catch(o){console.error("Error loading real match data:",o)}}catch(o){console.error("Error fetching real form data:",o)}finally{S(!1)}})()}),[p,B,R]);const D=async function(e,a){try{console.log("Loading REAL players for ".concat(e.name," (ID: ").concat(e.id,")"));const t=await R.get("/teams/".concat(e.id)),o=null===t||void 0===t?void 0:t.data;if(o&&(o.players||o.current_roster)){const t=o.players||o.current_roster;console.log("Found ".concat(t.length," REAL players for ").concat(e.name,":"),t);const n="team1"===a?"team1_composition":"team2_composition";return x((e=>(0,s.A)((0,s.A)({},e),{},{maps:(e.maps||[]).map((e=>(0,s.A)((0,s.A)({},e),{},{[n]:t.slice(0,6).map(((e,a)=>({player_id:e.id,player_name:e.name,hero:e.main_hero||(a%2===0?"Captain America":"Storm"),role:e.role||"Tank",country:e.country||e.nationality||"US",eliminations:0,deaths:0,assists:0,damage:0,healing:0,damageBlocked:0,objectiveTime:0,ultimatesUsed:0})))})))}))),console.log("".concat(e.name," composition updated with REAL players:"),t.map((e=>e.name))),t}return console.log("No players found for ".concat(e.name)),[]}catch(t){return console.error("Error loading real players for ".concat(e.name,":"),t),[]}},I=(0,o.useCallback)((e=>{console.log("Changing format from ".concat(g.format," to ").concat(e));const a=c(e);x((t=>{const o=(0,s.A)((0,s.A)({},t),{},{format:e,maps:a.maps.map(((e,a)=>{var o;const n=null===(o=t.maps)||void 0===o?void 0:o[a];return(0,s.A)((0,s.A)({},e),{},{team1_composition:(null===n||void 0===n?void 0:n.team1_composition)||e.team1_composition,team2_composition:(null===n||void 0===n?void 0:n.team2_composition)||e.team2_composition,team1_score:(null===n||void 0===n?void 0:n.team1_score)||0,team2_score:(null===n||void 0===n?void 0:n.team2_score)||0,winner_id:(null===n||void 0===n?void 0:n.winner_id)||null})})),map_pool:a.map_pool,stream_urls:t.stream_urls||[""],betting_urls:t.betting_urls||[""],vod_urls:t.vod_urls||[""],team1_id:t.team1_id,team2_id:t.team2_id,event_id:t.event_id,scheduled_at:t.scheduled_at,round:t.round,bracket_position:t.bracket_position});return console.log("Format changed to ".concat(e," with preserved data:"),o),o}))}),[]),O=(0,o.useCallback)((e=>{console.log("Adding URL field for type: ".concat(e));const a={stream:"stream_urls",betting:"betting_urls",vod:"vod_urls"}[e];a?x((t=>{const o=t[a]||[""],n=(0,s.A)((0,s.A)({},t),{},{[a]:[...o,""]});return console.log("Added ".concat(e," URL field:"),n[a]),n})):console.error("Unknown URL type:",e)}),[]),U=(0,o.useCallback)(((e,a)=>{console.log("Removing URL field for type: ".concat(e,", index: ").concat(a));const t={stream:"stream_urls",betting:"betting_urls",vod:"vod_urls"}[e];t?x((o=>{const n=o[t]||[""];if(n.length<=1)return console.log("Cannot remove last ".concat(e," URL field")),o;const r=n.filter(((e,t)=>t!==a)),i=(0,s.A)((0,s.A)({},o),{},{[t]:r});return console.log("Removed ".concat(e," URL field at index ").concat(a,":"),i[t]),i})):console.error("Unknown URL type:",e)}),[]),L=(0,o.useCallback)(((e,a,t)=>{console.log("URL change: ".concat(e,"[").concat(a,"] = ").concat(t));const o={stream:"stream_urls",betting:"betting_urls",vod:"vod_urls"}[e];o?x((n=>{const r=(n[o]||[""]).map(((e,s)=>s===a?t:e)),i=(0,s.A)((0,s.A)({},n),{},{[o]:r});return console.log("Updated ".concat(e," URL at index ").concat(a,":"),i[o]),i})):console.error("Unknown URL type:",e)}),[]),P=async e=>{const{name:a,value:t,type:o,checked:n}=e.target,r="checkbox"===o?n:t;if(console.log("Input change: ".concat(a," = ").concat(r)),"format"!==a){if(x((e=>(0,s.A)((0,s.A)({},e),{},{[a]:r}))),"team1_id"===a&&r){const e=h.find((e=>e.id==r));f(e),console.log("Team 1 selected:",null===e||void 0===e?void 0:e.name),e&&await D(e,"team1")}else if("team2_id"===a&&r){const e=h.find((e=>e.id==r));k(e),console.log("Team 2 selected:",null===e||void 0===e?void 0:e.name),e&&await D(e,"team2")}N[a]&&w((e=>(0,s.A)((0,s.A)({},e),{},{[a]:null})))}else I(r)},F=(e,a,t,o,n)=>{const r="object"===typeof o&&o.name?o.name:String(o),i="object"===typeof n&&n.name?n.name:String(n);console.log("Player ".concat(t+1," on ").concat(a," changing to ").concat(r," (").concat(i,") for Map ").concat(e+1)),x((o=>(0,s.A)((0,s.A)({},o),{},{maps:(o.maps||[]).map(((o,n)=>n===e?(0,s.A)((0,s.A)({},o),{},{["".concat(a,"_composition")]:(o["".concat(a,"_composition")]||[]).map(((e,a)=>a===t?(0,s.A)((0,s.A)({},e),{},{hero:r,role:i}):e))}):o))})))},H=(0,o.useCallback)(((e,a,t,s)=>e>a?t:a>e?s:null),[]),q=((0,o.useCallback)((async e=>{try{const a={team1_score:e.team1_score,team2_score:e.team2_score,current_map:e.current_map||1,map_scores:e.maps.map(((e,a)=>({map_number:a+1,team1_score:e.team1_score||0,team2_score:e.team2_score||0,winner_id:e.winner_id})))};console.log("Sending real-time score update with auto-calculated winners:",a);const t=await R.post("/admin/matches/".concat(p,"/update-score"),a);(null!==t&&void 0!==t&&t.success||null!==t&&void 0!==t&&t.data)&&(console.log("Real-time score update sent successfully with automatic winners"),liveScoreManager.broadcastScoreUpdate(p,{team1_score:e.team1_score,team2_score:e.team2_score,maps:e.maps,status:e.status,current_map:e.current_map},{source:"MatchForm",type:"form_score_update",timestamp:Date.now()}))}catch(a){console.error("Error sending real-time score update:",a)}}),[R,p]),(0,o.useCallback)(((e,a,t)=>{console.log("Map ".concat(e+1," ").concat(a," changed to:"),t),x((o=>{const n=(0,s.A)((0,s.A)({},o),{},{maps:(o.maps||[]).map(((n,r)=>{if(r===e){const r=(0,s.A)((0,s.A)({},n),{},{[a]:t});if("team1_score"===a||"team2_score"===a){const s="team1_score"===a?t:n.team1_score||0,i="team2_score"===a?t:n.team2_score||0;r.winner_id=H(s,i,o.team1_id,o.team2_id),r.status=r.winner_id?"completed":"upcoming",console.log("Map ".concat(e+1," winner automatically calculated:"),r.winner_id?r.winner_id===o.team1_id?"Team 1":"Team 2":"No winner")}return r}return n}))});let r=0,i=0;return n.maps.forEach((e=>{e.winner_id===n.team1_id?r++:e.winner_id===n.team2_id&&i++})),n.team1_score=r,n.team2_score=i,n}))}),[p,H])),W=async()=>{if((()=>{const e={};return g.team1_id||(e.team1_id="Team 1 is required"),g.team2_id||(e.team2_id="Team 2 is required"),g.team1_id===g.team2_id&&(e.team2_id="Teams must be different"),g.scheduled_at||(e.scheduled_at="Schedule time is required"),g.format||(e.format="Format is required"),g.maps.forEach(((a,t)=>{a.map_name||(e["map_".concat(t)]="Map ".concat(t+1," name is required"))})),w(e),0===Object.keys(e).length})()){E(!0);try{console.log("Saving match to PRODUCTION backend...",g);let e=0,a=0;"completed"===g.status&&g.maps.forEach((e=>{(e.team1_score||0)===(e.team2_score||0)||e.winner_id||(e.winner_id=(e.team1_score||0)>(e.team2_score||0)?g.team1_id:g.team2_id,e.status="completed",console.log(" Auto-calculated map ".concat(e.map_number," winner:"),e.winner_id))})),g.maps.forEach((t=>{t.winner_id&&(t.winner_id==g.team1_id?e++:t.winner_id==g.team2_id&&a++)})),console.log(" Calculated series scores: Team1: ".concat(e,", Team2: ").concat(a));const t={team1_id:parseInt(g.team1_id),team2_id:parseInt(g.team2_id),event_id:g.event_id?parseInt(g.event_id):null,status:g.status||"upcoming",format:g.format||"BO1",scheduled_at:new Date(g.scheduled_at).toISOString(),team1_score:e>0||a>0?e:parseInt(g.team1_score||0),team2_score:e>0||a>0?a:parseInt(g.team2_score||0),stream_urls:(g.stream_urls||[""]).filter((e=>e.trim())),betting_urls:(g.betting_urls||[""]).filter((e=>e.trim())),vod_urls:(g.vod_urls||[""]).filter((e=>e.trim())),round:g.round||null,bracket_position:g.bracket_position||null,allow_past_date:g.allow_past_date||!1,maps_data:g.maps.map(((e,a)=>({map_number:a+1,map_name:e.map_name,mode:e.mode,team1_score:parseInt(e.team1_score)||0,team2_score:parseInt(e.team2_score)||0,winner_id:e.winner_id||null,status:e.winner_id?"completed":"upcoming",team1_composition:(e.team1_composition||[]).slice(0,6).map((e=>({player_id:e.player_id||e.id,player_name:e.player_name||e.name||e.username,hero:e.hero||"Captain America",role:e.role||"Vanguard",country:e.country||e.nationality||"US",eliminations:0,deaths:0,assists:0,damage:0,healing:0,damage_blocked:0,ultimate_usage:0,objective_time:0}))),team2_composition:(e.team2_composition||[]).slice(0,6).map((e=>({player_id:e.player_id||e.id,player_name:e.player_name||e.name||e.username,hero:e.hero||"Hulk",role:e.role||"Vanguard",country:e.country||e.nationality||"US",eliminations:0,deaths:0,assists:0,damage:0,healing:0,damage_blocked:0,ultimate_usage:0,objective_time:0})))})))};let s;console.log("\ud83d\udce4 PRODUCTION payload with preserved heroes/maps:",t),B?(console.log("Updating existing match via PRODUCTION API..."),s=await R.put("/admin/matches/".concat(p,"/complete-update"),t)):(console.log("Creating new match via PRODUCTION API..."),s=await R.post("/admin/matches",t)),console.log("Match saved to PRODUCTION backend successfully:",s),alert("Match ".concat(B?"updated":"created"," successfully with preserved heroes and maps!")),u&&u("admin-matches")}catch(e){console.error("Error saving match to PRODUCTION backend:",e),alert("Error saving match: ".concat(e.message||"Unknown error"))}finally{E(!1)}}else console.log("Form validation failed:",N)};return C?(0,i.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)("div",{className:"text-2xl mb-4",children:"MATCHES"}),(0,i.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading real match form data..."})]})}):(0,i.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:B?"Edit Match":"Create New Match"}),(0,i.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:B?"Update match details and scoring":"Set up a new Marvel Rivals tournament match"})]}),(0,i.jsx)("button",{onClick:()=>u&&u("admin-matches"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"\u2190 Back to Matches"})]}),(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),W()},className:"space-y-6",children:[(0,i.jsxs)("div",{className:"card p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Teams"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Team 1 *"}),(0,i.jsxs)("select",{name:"team1_id",value:g.team1_id,onChange:P,className:"form-input ".concat(N.team1_id?"border-red-500":""),required:!0,children:[(0,i.jsx)("option",{value:"",children:"Select Team 1..."}),h.map((e=>(0,i.jsxs)("option",{value:e.id,children:[e.name," (",e.short_name,")"]},e.id)))]}),_&&(0,i.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm",children:[(0,i.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:_.name}),(0,i.jsxs)("div",{className:"text-gray-600 dark:text-gray-400",children:["Region: ",_.region," | Rating: ",_.rating||"Unranked"]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Team 2 *"}),(0,i.jsxs)("select",{name:"team2_id",value:g.team2_id,onChange:P,className:"form-input ".concat(N.team2_id?"border-red-500":""),required:!0,children:[(0,i.jsx)("option",{value:"",children:"Select Team 2..."}),h.filter((e=>e.id!=g.team1_id)).map((e=>(0,i.jsxs)("option",{value:e.id,children:[e.name," (",e.short_name,")"]},e.id)))]}),j&&(0,i.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm",children:[(0,i.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:j.name}),(0,i.jsxs)("div",{className:"text-gray-600 dark:text-gray-400",children:["Region: ",j.region," | Rating: ",j.rating||"Unranked"]})]})]})]})]}),(0,i.jsxs)("div",{className:"card p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Match Details"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:["Event ",(0,i.jsx)("span",{className:"text-gray-500 text-sm",children:"(Optional - standalone match)"})]}),(0,i.jsxs)("select",{name:"event_id",value:g.event_id,onChange:P,className:"form-input ".concat(N.event_id?"border-red-500":""),children:[(0,i.jsx)("option",{value:"",children:"No Event - Standalone Match"}),b.map((e=>(0,i.jsxs)("option",{value:e.id,children:[e.name," (",e.type||"Tournament",")"]},e.id)))]}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Leave empty to create a standalone match without an event"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Match Format *"}),(0,i.jsx)("select",{name:"format",value:g.format,onChange:P,className:"form-input",required:!0,children:l.formats.map((e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,i.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Changing format will reset map configuration"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Scheduled Time *"}),(0,i.jsx)("input",{type:"datetime-local",name:"scheduled_at",value:g.scheduled_at,onChange:P,className:"form-input ".concat(N.scheduled_at?"border-red-500":""),min:g.allow_past_date?void 0:(new Date).toISOString().slice(0,16),required:!0}),(0,i.jsxs)("div",{className:"mt-2 flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",id:"allow_past_date",name:"allow_past_date",checked:g.allow_past_date,onChange:P,className:"mr-2"}),(0,i.jsx)("label",{htmlFor:"allow_past_date",className:"text-sm text-gray-600 dark:text-gray-400",children:"Allow past dates (for completed matches)"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Status"}),(0,i.jsx)("select",{name:"status",value:g.status,onChange:P,className:"form-input",children:l.statuses.map((e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Tournament Round"}),(0,i.jsx)("input",{type:"text",name:"round",value:g.round,onChange:P,className:"form-input",placeholder:"Semi-Finals, Quarter-Finals, etc."})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Bracket Position"}),(0,i.jsx)("input",{type:"text",name:"bracket_position",value:g.bracket_position,onChange:P,className:"form-input",placeholder:"Upper Bracket, Lower Bracket, etc."})]})]})]}),(0,i.jsxs)("div",{className:"card p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Streaming & Betting URLs"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100",children:"Stream URLs"}),(0,i.jsx)("button",{type:"button",onClick:()=>O("stream"),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"+ Add Stream"})]}),(0,i.jsx)("div",{className:"space-y-2",children:(g.stream_urls||[""]).map(((e,a)=>(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"url",value:e,onChange:e=>L("stream",a,e.target.value),className:"form-input flex-1",placeholder:"https://twitch.tv/stream".concat(a+1)}),(g.stream_urls||[]).length>1&&(0,i.jsx)("button",{type:"button",onClick:()=>U("stream",a),className:"px-2 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Remove"})]},a)))})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100",children:"Betting URLs"}),(0,i.jsx)("button",{type:"button",onClick:()=>O("betting"),className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"+ Add Betting"})]}),(0,i.jsx)("div",{className:"space-y-2",children:(g.betting_urls||[""]).map(((e,a)=>(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"url",value:e,onChange:e=>L("betting",a,e.target.value),className:"form-input flex-1",placeholder:"https://bet365.com/match".concat(a+1)}),(g.betting_urls||[]).length>1&&(0,i.jsx)("button",{type:"button",onClick:()=>U("betting",a),className:"px-2 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Remove"})]},a)))})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100",children:"VOD URLs"}),(0,i.jsx)("button",{type:"button",onClick:()=>O("vod"),className:"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700",children:"+ Add VOD"})]}),(0,i.jsx)("div",{className:"space-y-2",children:(g.vod_urls||[""]).map(((e,a)=>(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"url",value:e,onChange:e=>L("vod",a,e.target.value),className:"form-input flex-1",placeholder:"https://youtube.com/vod".concat(a+1)}),(g.vod_urls||[]).length>1&&(0,i.jsx)("button",{type:"button",onClick:()=>U("vod",a),className:"px-2 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Remove"})]},a)))})]})]})]}),(0,i.jsxs)("div",{className:"card p-6",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Marvel Rivals Maps & Team Compositions (",g.format,")"]}),(0,i.jsx)("div",{className:"space-y-6",children:(g.maps||[]).map(((e,a)=>(0,i.jsxs)("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-6 bg-white dark:bg-gray-800",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Map ",a+1]}),(0,i.jsx)("div",{className:"px-3 py-1 rounded text-sm font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"live"===e.status?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"),children:(e.status||"upcoming").toUpperCase()})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Select Marvel Rivals Map"}),(0,i.jsx)("select",{value:e.map_name,onChange:e=>{const t=e.target.value,s=l.maps.find((e=>e.name===t));q(a,"map_name",t),s&&q(a,"mode",s.mode)},className:"form-input",children:l.maps.map((e=>(0,i.jsxs)("option",{value:e.name,children:[e.icon," ",e.name," (",e.mode,")"]},e.name)))}),e.mode&&l.gameModes[e.mode]&&(0,i.jsx)("div",{className:"mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"text-xl",children:l.gameModes[e.mode].icon}),(0,i.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:l.gameModes[e.mode].displayName})]})})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Game Mode"}),(0,i.jsx)("select",{value:e.mode||"Convoy",onChange:e=>q(a,"mode",e.target.value),className:"form-input",children:Object.entries(l.gameModes).map((e=>{let[a,t]=e;return(0,i.jsxs)("option",{value:a,children:[t.icon," ",t.displayName," - ",Math.floor(t.duration/60),"min"]},a)}))})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"border border-blue-200 dark:border-blue-700 rounded-lg p-4 bg-blue-50 dark:bg-blue-900/10",children:[(0,i.jsxs)("h5",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-4",children:[(null===_||void 0===_?void 0:_.name)||"Team 1"," Composition"]}),(0,i.jsx)("div",{className:"space-y-3",children:(e.team1_composition||[]).length>0?e.team1_composition.map(((e,t)=>(0,i.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("span",{className:"font-bold text-green-600 dark:text-green-400",children:e.player_name||e.name||"Player ".concat(t+1)}),(0,i.jsx)("div",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Tank"===e.role?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":"Duelist"===e.role?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"),children:e.role})]}),(0,i.jsx)("select",{value:e.hero,onChange:e=>{const s=e.target.value,o=Object.keys(T).find((e=>(T[e]||[]).includes(s)))||"Tank";F(a,"team1",t,s,o)},className:"w-full text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:Object.entries(T).map((e=>{let[a,t]=e;return(0,i.jsx)("optgroup",{label:a,children:Array.isArray(t)?t.map((e=>(0,i.jsx)("option",{value:e,children:e},e))):null},a)}))})]},t))):(0,i.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"Select Team 1 to load real players"})})]}),(0,i.jsxs)("div",{className:"border border-red-200 dark:border-red-700 rounded-lg p-4 bg-red-50 dark:bg-red-900/10",children:[(0,i.jsxs)("h5",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-4",children:[(null===j||void 0===j?void 0:j.name)||"Team 2"," Composition"]}),(0,i.jsx)("div",{className:"space-y-3",children:(e.team2_composition||[]).length>0?e.team2_composition.map(((e,t)=>(0,i.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-600",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("span",{className:"font-bold text-green-600 dark:text-green-400",children:e.player_name||e.name||"Player ".concat(t+1)}),(0,i.jsx)("div",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Tank"===e.role?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":"Duelist"===e.role?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"),children:e.role})]}),(0,i.jsx)("select",{value:e.hero,onChange:e=>{const s=e.target.value,o=Object.keys(T).find((e=>(T[e]||[]).includes(s)))||"Tank";F(a,"team2",t,s,o)},className:"w-full text-sm border border-gray-300 dark:border-gray-600 rounded px-2 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:Object.entries(T).map((e=>{let[a,t]=e;return(0,i.jsx)("optgroup",{label:a,children:Array.isArray(t)?t.map((e=>(0,i.jsx)("option",{value:e,children:e},e))):null},a)}))})]},t))):(0,i.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"Select Team 2 to load real players"})})]})]}),(0,i.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:[(null===_||void 0===_?void 0:_.short_name)||"Team 1"," Score"]}),(0,i.jsx)("input",{type:"number",min:"0",max:"50",value:e.team1_score,onChange:e=>q(a,"team1_score",parseInt(e.target.value)||0),className:"form-input"})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:[(null===j||void 0===j?void 0:j.short_name)||"Team 2"," Score"]}),(0,i.jsx)("input",{type:"number",min:"0",max:"50",value:e.team2_score,onChange:e=>q(a,"team2_score",parseInt(e.target.value)||0),className:"form-input"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Map Winner (Automatically Calculated)"}),(0,i.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border",children:e.winner_id?(0,i.jsx)("div",{className:"flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mb-1",children:[e.winner_id==g.team1_id?null===_||void 0===_?void 0:_.name:null===j||void 0===j?void 0:j.name," Wins!"]}),(0,i.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Score: ",e.team1_score||0," - ",e.team2_score||0]}),p&&(0,i.jsx)("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"Real-time update sent"})]})}):(0,i.jsx)("div",{className:"text-center text-gray-500 dark:text-gray-400",children:(e.team1_score||0)===(e.team2_score||0)?(e.team1_score||0)>0?" Tie Game":" No scores entered yet":" Enter scores above to determine winner"})}),(0,i.jsx)("div",{className:"mt-2 text-center",children:(0,i.jsx)("button",{type:"button",onClick:()=>{q(a,"team1_score",0),q(a,"team2_score",0)},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Reset Scores"})})]})]})]},a)))}),(0,i.jsx)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:(0,i.jsxs)("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[(0,i.jsx)("div",{className:"font-bold mb-2",children:"Current Match Score:"}),(0,i.jsxs)("div",{className:"text-2xl",children:[(null===_||void 0===_?void 0:_.short_name)||"Team 1",": ",(0,i.jsx)("span",{className:"font-bold",children:g.team1_score})," -",(null===j||void 0===j?void 0:j.short_name)||"Team 2",": ",(0,i.jsx)("span",{className:"font-bold",children:g.team2_score})]}),"completed"===g.status&&(0,i.jsxs)("div",{className:"mt-4 p-3 bg-white dark:bg-gray-800 rounded border",children:[(0,i.jsx)("div",{className:"font-bold text-gray-900 dark:text-white mb-2",children:"Manual Score Override (for completed matches):"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:[(null===_||void 0===_?void 0:_.short_name)||"Team 1"," Score"]}),(0,i.jsx)("input",{type:"number",min:"0",max:"10",value:g.team1_score||0,onChange:e=>x((a=>(0,s.A)((0,s.A)({},a),{},{team1_score:parseInt(e.target.value)||0}))),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm"})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:[(null===j||void 0===j?void 0:j.short_name)||"Team 2"," Score"]}),(0,i.jsx)("input",{type:"number",min:"0",max:"10",value:g.team2_score||0,onChange:e=>x((a=>(0,s.A)((0,s.A)({},a),{},{team2_score:parseInt(e.target.value)||0}))),className:"w-full px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm"})]})]}),(0,i.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Use this to set final match scores for completed matches without detailed map scoring."})]})]})})]}),(0,i.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,i.jsx)("button",{type:"submit",disabled:A,className:"px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold",children:A?"Saving...":B?"Update Match":"Create Match"}),(0,i.jsx)("button",{type:"button",onClick:()=>u&&u("admin-matches"),className:"px-8 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-semibold",children:"Cancel"})]})]}),_&&j&&(0,i.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 shadow-lg mt-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("div",{className:"flex items-center space-x-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:_.short_name?_.short_name[0]:_.name[0]})}),(0,i.jsxs)("div",{className:"text-white",children:[(0,i.jsx)("div",{className:"font-bold text-lg",children:_.name}),(0,i.jsx)("div",{className:"text-blue-200 text-sm",children:_.region})]})]})}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-white text-4xl font-bold mb-1",children:[_.short_name," ",g.team1_score||0," - ",g.team2_score||0," ",j.short_name]}),(0,i.jsxs)("div",{className:"text-blue-200 text-sm uppercase tracking-wide",children:[g.format," \u2022 ",(null===(a=g.status)||void 0===a?void 0:a.toUpperCase())||"UPCOMING"]}),"live"===g.status&&(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-1 mt-2",children:[(0,i.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,i.jsx)("span",{className:"text-red-200 text-sm font-medium",children:"LIVE"})]})]}),(0,i.jsx)("div",{className:"flex items-center space-x-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)("div",{className:"text-white text-right",children:[(0,i.jsx)("div",{className:"font-bold text-lg",children:j.name}),(0,i.jsx)("div",{className:"text-blue-200 text-sm",children:j.region})]}),(0,i.jsx)("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center",children:(0,i.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:j.short_name?j.short_name[0]:j.name[0]})})]})})]}),(0,i.jsxs)("div",{className:"mt-4 pt-4 border-t border-blue-500",children:[(0,i.jsx)("div",{className:"flex items-center justify-center space-x-2",children:(g.maps||[]).map(((e,a)=>{const t=e.winner_id===g.team1_id,s=e.winner_id===g.team2_id,o=(g.current_map||1)===a+1;return(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold ".concat(t?"bg-green-500 text-white":s?"bg-red-500 text-white":o?"bg-yellow-400 text-gray-900":"bg-blue-500 text-white"),children:a+1}),a<g.maps.length-1&&(0,i.jsx)("div",{className:"w-4 h-0.5 bg-blue-400 mx-1"})]},a)}))}),(0,i.jsx)("div",{className:"text-center mt-2",children:(0,i.jsxs)("span",{className:"text-blue-200 text-xs",children:["Map ",g.current_map||1," of ",(null===(t=g.maps)||void 0===t?void 0:t.length)||1," \u2022 ",(null===(d=g.maps)||void 0===d||null===(m=d[0])||void 0===m?void 0:m.mode)||"Convoy"]})})]})]})]})}},3577:(e,a,t)=>{t.d(a,{Zw:()=>i,ii:()=>o,jz:()=>r,pq:()=>n,qZ:()=>l});const s={competitive:[{id:"krakoa",name:"Hellfire Gala: Krakoa",mode:"Domination",type:"competitive",icon:"\ud83d\udd25",season:2,description:"NEW Season 2 competitive map"},{id:"hells_heaven",name:"Hydra Charteris Base: Hell's Heaven",mode:"Domination",type:"competitive",icon:"\u2699\ufe0f",season:1,description:"Classic domination battleground"},{id:"birnin_tchalla",name:"Intergalactic Empire of Wakanda: Birnin T'Challa",mode:"Domination",type:"competitive",icon:"\ud83d\udc8e",season:1,description:"Wakandan capital warfare"},{id:"central_park",name:"Empire of Eternal Night: Central Park",mode:"Convoy",type:"competitive",icon:"\ud83c\udf03",season:1,description:"Payload escort through darkened NYC"}],all:[{name:"Hellfire Gala: Krakoa",mode:"Domination",status:"active",competitive:!0},{name:"Yggsgard: Royal Palace",mode:"Domination",status:"removed",season:2},{name:"Hydra Charteris Base: Hell's Heaven",mode:"Domination",status:"active",competitive:!0},{name:"Intergalactic Empire of Wakanda: Birnin T'Challa",mode:"Domination",status:"active",competitive:!0},{name:"Empire of Eternal Night: Central Park",mode:"Convoy",status:"active",competitive:!0},{name:"Tokyo 2099: Spider-Islands",mode:"Convoy",status:"active",competitive:!1},{name:"Yggsgard: Yggdrasill Path",mode:"Convoy",status:"active",competitive:!1},{name:"Empire of Eternal Night: Midtown",mode:"Convoy",status:"active",competitive:!1},{name:"Empire of Eternal Night: Sanctum Sanctorum",mode:"Convergence",status:"active",competitive:!1},{name:"Tokyo 2099: Shin-Shibuya",mode:"Convergence",status:"removed",season:2},{name:"Klyntar: Symbiotic Surface",mode:"Convergence",status:"active",competitive:!1},{name:"Intergalactic Empire of Wakanda: Hall of Djalia",mode:"Convergence",status:"active",competitive:!1}],casual:[{id:"royal_palace",name:"Yggsgard: Royal Palace",mode:"Domination",type:"casual",icon:"\ud83d\udc51",removed:"Season 2",description:"REMOVED from competitive Season 2"},{id:"spider_islands",name:"Tokyo 2099: Spider-Islands",mode:"Convoy",type:"casual",icon:"\ud83d\udd78\ufe0f",description:"Futuristic Tokyo payload escort"},{id:"yggdrasill_path",name:"Yggsgard: Yggdrasill Path",mode:"Convoy",type:"casual",icon:"\ud83c\udf33",description:"World tree convoy route"},{id:"midtown",name:"Empire of Eternal Night: Midtown",mode:"Convoy",type:"casual",icon:"\ud83c\udfe2",description:"Manhattan streets payload"},{id:"sanctum_sanctorum",name:"Empire of Eternal Night: Sanctum Sanctorum",mode:"Convergence",type:"casual",icon:"\ud83d\udd2e",description:"Mystical hybrid combat"},{id:"shin_shibuya",name:"Tokyo 2099: Shin-Shibuya",mode:"Convergence",type:"casual",icon:"\ud83d\uddfc",removed:"Season 2",description:"REMOVED from rotation Season 2"},{id:"symbiotic_surface",name:"Klyntar: Symbiotic Surface",mode:"Convergence",type:"casual",icon:"\ud83d\udda4",description:"Alien world convergence"},{id:"hall_of_djalia",name:"Intergalactic Empire of Wakanda: Hall of Djalia",mode:"Convergence",type:"casual",icon:"\u2728",description:"Ancestral plane hybrid battle"}]},o={Domination:{name:"Domination",icon:"\ud83c\udfaf",type:"Control Point",format:"Best of 3 rounds",timer:{preparation:30,captureRate:1.2,roundLimit:null},description:"Control single point, best of 3 rounds",overtime:"Triggered when contested near round end"},Convoy:{name:"Convoy",icon:"\ud83d\ude9b",type:"Escort",format:"2 rounds in Competitive (swap sides)",timer:{preparation:30,baseTime:300,checkpoint1:180,checkpoint2:90},description:"Escort payload through checkpoints",checkpoints:3},Convergence:{name:"Convergence",icon:"\ud83d\udd04",type:"Hybrid",format:"2 rounds in Competitive (swap sides)",timer:{preparation:30,capturePhase:240,escortPhase:90},description:"Capture point then escort payload",phases:["Capture","Escort"]}},n={Vanguard:["Captain America","Doctor Strange","Groot","Hulk","Magneto","Peni Parker","Thor","Venom","Emma Frost","Bruce Banner","Mr. Fantastic","TBD"],Duelist:["Black Panther","Black Widow","Hawkeye","Hela","Iron Man","Magik","Moon Knight","Namor","Psylocke","Punisher","Scarlet Witch","Spider-Man","Star-Lord","Storm","Wolverine","Winter Soldier","Iron Fist","Squirrel Girl","TBD"],Strategist:["Adam Warlock","Cloak & Dagger","Jeff the Land Shark","Loki","Luna Snow","Mantis","Rocket Raccoon","TBD"]},r=[{value:"BO1",label:"Best of 1",maps:1,winCondition:"First to 1",usage:["Open Qualifiers","Swiss Rounds","Quick Matches"]},{value:"BO3",label:"Best of 3",maps:3,winCondition:"First to 2",usage:["Group Stage","Regular Season","Upper Bracket"]},{value:"BO5",label:"Best of 5",maps:5,winCondition:"First to 3",usage:["Playoffs","Lower Bracket","Semifinals"]},{value:"BO7",label:"Best of 7",maps:7,winCondition:"First to 4",usage:["Championship Finals","Grand Finals","Major Finals"]},{value:"BO9",label:"Best of 9",maps:9,winCondition:"First to 5",usage:["World Championship","Season Finals","Special Events"]}],i=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const t=[...s.competitive,...s.casual];let o=t;"all"!==a&&(o=t.filter((e=>e.mode===a))),o=o.filter((e=>!e.removed));const n=r.find((a=>a.value===e)),i=(null===n||void 0===n?void 0:n.maps)||1,l=o.filter((e=>"competitive"===e.type)),c=o.filter((e=>"casual"===e.type));let d=[];return d.push(...l),d.length<i&&d.push(...c.slice(0,i-d.length)),d.slice(0,i)},l=e=>{const a=r.find((a=>a.value===e)),t=(null===a||void 0===a?void 0:a.maps)||1,s=["Domination","Convoy","Domination","Convergence","Convoy"],o=[];for(let n=0;n<t;n++)o.push(s[n%s.length]);return o}}}]);