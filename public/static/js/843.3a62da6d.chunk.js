"use strict";(self.webpackChunkmrvl_frontend=self.webpackChunkmrvl_frontend||[]).push([[843],{4843:(t,e,a)=>{a.d(e,{KR:()=>c,Uq:()=>d,dB:()=>u,qC:()=>o,tW:()=>w,ww:()=>h});var r=a(2555),n=a(5189);const i={youtube:{patterns:[/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?(?:[^&]*&)*v=([a-zA-Z0-9_-]{11})(?:&[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?youtu\.be\/([a-zA-Z0-9_-]{11})(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/embed\/([a-zA-Z0-9_-]{11})(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/v\/([a-zA-Z0-9_-]{11})(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?m\.youtube\.com\/watch\?(?:[^&]*&)*v=([a-zA-Z0-9_-]{11})(?:&[^&]*)*(?:#[^&]*)?/],embedTemplate:"https://www.youtube.com/embed/{id}"},twitchClip:{patterns:[/(?:https?:\/\/)?clips\.twitch\.tv\/([a-zA-Z0-9_-]+)(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?twitch\.tv\/([^\/\s]+)\/clip\/([a-zA-Z0-9_-]+)(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?twitch\.tv\/\w+\/clip\/([a-zA-Z0-9_-]+)(?:\?[^&]*)*(?:#[^&]*)?/],embedTemplate:"https://clips.twitch.tv/embed?clip={id}&parent={domain}"},twitchVideo:{patterns:[/(?:https?:\/\/)?(?:www\.)?twitch\.tv\/videos\/(\d+)(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?m\.twitch\.tv\/videos\/(\d+)(?:\?[^&]*)*(?:#[^&]*)?/],embedTemplate:"https://player.twitch.tv/?video={id}&parent={domain}"},twitchStream:{patterns:[/(?:https?:\/\/)?(?:www\.)?twitch\.tv\/([a-zA-Z0-9_]{4,25})(?:\?[^&]*)*(?:#[^&]*)?$/,/(?:https?:\/\/)?m\.twitch\.tv\/([a-zA-Z0-9_]{4,25})(?:\?[^&]*)*(?:#[^&]*)?$/],embedTemplate:"https://player.twitch.tv/?channel={id}&parent={domain}"},twitter:{patterns:[/(?:https?:\/\/)?(?:www\.)?twitter\.com\/(?:[^\/\s]+)\/status\/(\d+)(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?x\.com\/(?:[^\/\s]+)\/status\/(\d+)(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?mobile\.twitter\.com\/(?:[^\/\s]+)\/status\/(\d+)(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?twitter\.com\/i\/status\/(\d+)(?:\?[^&]*)*(?:#[^&]*)?/],embedTemplate:"https://twitter.com/x/status/{id}"},vlrgg:{patterns:[/(?:https?:\/\/)?(?:www\.)?vlr\.gg\/(\d+)\/([^\/\s?]+)(?:\/[^\/\s?]*)*(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?vlr\.gg\/team\/(\d+)\/([^\/\s?]+)(?:\/[^\/\s?]*)*(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?vlr\.gg\/event\/(\d+)\/([^\/\s?]+)(?:\/[^\/\s?]*)*(?:\?[^&]*)*(?:#[^&]*)?/,/(?:https?:\/\/)?(?:www\.)?vlr\.gg\/player\/(\d+)\/([^\/\s?]+)(?:\/[^\/\s?]*)*(?:\?[^&]*)*(?:#[^&]*)?/],embedTemplate:null}},s=t=>{if(!t||"string"!==typeof t)return null;t=t.trim();if((0,n.gS)(t).isValid){const e=(0,n.Vy)(t);return{type:"vlrgg",id:e.id,originalUrl:t,platform:"vlrgg",contentType:e.type,slug:e.slug,displayUrl:e.displayUrl}}for(const[e,a]of Object.entries(i))if("vlrgg"!==e)for(const n of a.patterns){const a=t.match(n);if(a){let n=a[1],i=e;return"twitchClip"===e?(n=a[2]||a[1],i="twitch-clip"):"twitchVideo"===e?i="twitch-video":"twitchStream"===e&&(i="twitch-stream"),(0,r.A)((0,r.A)({type:i,id:n,originalUrl:t,platform:e.startsWith("twitch")?"twitch":"twitter"===e?"twitter":"youtube"===e?"youtube":e},"youtube"===e&&{isYouTubeShorts:t.includes("/shorts/"),isMobileUrl:t.includes("m.youtube.com")}),e.startsWith("twitch")&&{isLiveStream:"twitchStream"===e,isClip:"twitchClip"===e,isVod:"twitchVideo"===e})}}return null},l=t=>{if(!t||"string"!==typeof t)return[];const e=[],a=t.match(/https?:\/\/[^\s\n\r\t]+/gi)||[];for(const r of a){const t=s(r);t&&e.push(t)}return e},o=function(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.domain||("undefined"!==typeof window?window.location.hostname:"localhost");const n=a.isMobile||!1,i=a.isTablet||!1,s=a.autoplay||!1,l=a.muted||n,o=a.startTime||null;switch(("localhost"===r||r.includes("localhost")||r.includes("127.0.0.1"))&&(r="localhost"),t){case"youtube":{let t=new URLSearchParams({rel:"0",modestbranding:"1",controls:"1",showinfo:"0",fs:"1"});return n&&t.set("playsinline","1"),s&&(t.set("autoplay","1"),t.set("mute",l?"1":"0")),o&&t.set("start",o),"https://www.youtube.com/embed/".concat(e,"?").concat(t.toString())}case"twitch-clip":{let t=new URLSearchParams({clip:e,parent:r,autoplay:s?"true":"false",muted:l?"true":"false"});return(i||n)&&t.set("allowfullscreen","true"),"https://clips.twitch.tv/embed?".concat(t.toString())}case"twitch-video":{let t=new URLSearchParams({video:e,parent:r,autoplay:s?"true":"false",muted:l?"true":"false"});return o&&t.set("time","".concat(o,"s")),(i||n)&&t.set("allowfullscreen","true"),"https://player.twitch.tv/?".concat(t.toString())}case"twitch-stream":{let t=new URLSearchParams({channel:e,parent:r,autoplay:s?"true":"false",muted:l?"true":"false"});return(i||n)&&t.set("allowfullscreen","true"),"https://player.twitch.tv/?".concat(t.toString())}case"twitter":case"x":return"https://twitter.com/x/status/".concat(e);default:return null}},c=t=>{if(!t||"string"!==typeof t)return{processedContent:t||"",videos:[]};const e=l(t);let a=t;return e.forEach(((t,e)=>{const r="[VIDEO_EMBED_".concat(e,"]");a=a.replace(t.originalUrl,r)})),{processedContent:a,videos:e}},u=t=>{if(!t||"string"!==typeof t)return{isValid:!1,error:"URL is required"};const e=s(t);return e?{isValid:!0,type:e.type,video:e}:{isValid:!1,error:"Unsupported content platform. Supported: YouTube, Twitch (clips & videos), Twitter/X, VLR.gg (matches, teams, events, players)"}},p=(t,e)=>"youtube"===t?"https://img.youtube.com/vi/".concat(e,"/maxresdefault.jpg"):null,d=t=>{switch(t){case"youtube":return"YouTube";case"twitch-clip":return"Twitch Clip";case"twitch-video":return"Twitch VOD";case"twitch-stream":return"Twitch Stream";case"twitter":case"x":return"X (Twitter)";case"vlrgg":return"VLR.gg";default:return"Content"}},w=function(t){return"twitter"===t||"vlrgg"===t?"auto":arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"pb-[177.78%] sm:pb-[56.25%]":"pb-[56.25%]"},h=t=>{if(!t||"string"!==typeof t)return[];const e=[];return(t.match(/https?:\/\/[^\s\n\r\t<>"\[\]{}|\\^`]+/gi)||[]).forEach(((t,a)=>{const n=t.replace(/[.,;:!?]+$/,""),i=s(n);if(i){const t=u(n),s=(0,r.A)((0,r.A)({},i),{},{index:a,isValid:t.isValid,error:t.error,embedUrl:o(i.type,i.id),thumbnail:p(i.type,i.id),platformName:d(i.type)});"vlrgg"===i.type&&(s.isEsportsContent=!0,s.requiresApi=!0,s.contentType=i.contentType,s.slug=i.slug,s.displayUrl=i.displayUrl),e.push(s)}})),e}},5189:(t,e,a)=>{a.d(e,{KZ:()=>p,Vy:()=>c,bm:()=>d,gS:()=>u});var r=a(2555);const n="https://vlrggapi.vercel.app",i=new Map,s=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t,n=i.get(a);if(n&&Date.now()-n.timestamp<3e5)return n.data;try{const n=new AbortController,s=setTimeout((()=>n.abort()),1e4),l=await fetch(t,(0,r.A)((0,r.A)({},e),{},{signal:n.signal,headers:(0,r.A)({Accept:"application/json","User-Agent":"MRVL-News-Integration"},e.headers)}));if(clearTimeout(s),!l.ok)throw new Error("VLR.gg API error: ".concat(l.status," ").concat(l.statusText));const o=await l.json();return i.set(a,{data:o,timestamp:Date.now()}),o}catch(s){throw console.error("VLR.gg API request failed:",s),new Error("Failed to fetch VLR.gg data: ".concat(s.message))}},l=async t=>{if(!t)return null;try{return await s("".concat(n,"/match/").concat(t))}catch(e){return console.error("Error fetching VLR match:",e),null}},o=async t=>{if(!t)return null;try{return await s("".concat(n,"/team/").concat(t))}catch(e){return console.error("Error fetching VLR team:",e),null}},c=t=>{if(!t||"string"!==typeof t)return null;t=t.trim();const e=[{type:"match",pattern:/(?:https?:\/\/)?(?:www\.)?vlr\.gg\/(\d+)\/([^\/\s]+)(?:\/.*)?/,extract:e=>({type:"match",id:e[1],slug:e[2],originalUrl:t,displayUrl:"https://www.vlr.gg/".concat(e[1],"/").concat(e[2])})},{type:"team",pattern:/(?:https?:\/\/)?(?:www\.)?vlr\.gg\/team\/(\d+)\/([^\/\s]+)(?:\/.*)?/,extract:e=>({type:"team",id:e[1],slug:e[2],originalUrl:t,displayUrl:"https://www.vlr.gg/team/".concat(e[1],"/").concat(e[2])})},{type:"event",pattern:/(?:https?:\/\/)?(?:www\.)?vlr\.gg\/event\/(\d+)\/([^\/\s]+)(?:\/.*)?/,extract:e=>({type:"event",id:e[1],slug:e[2],originalUrl:t,displayUrl:"https://www.vlr.gg/event/".concat(e[1],"/").concat(e[2])})},{type:"player",pattern:/(?:https?:\/\/)?(?:www\.)?vlr\.gg\/player\/(\d+)\/([^\/\s]+)(?:\/.*)?/,extract:e=>({type:"player",id:e[1],slug:e[2],originalUrl:t,displayUrl:"https://www.vlr.gg/player/".concat(e[1],"/").concat(e[2])})}];for(const{pattern:a,extract:r}of e){const e=t.match(a);if(e)return r(e)}return null},u=t=>{if(!t||"string"!==typeof t)return{isValid:!1,error:"URL is required"};const e=c(t);return e?{isValid:!0,type:e.type,data:e}:{isValid:!1,error:"Invalid VLR.gg URL. Supported: matches, teams, events, players"}},p=async t=>{const e=u(t);if(!e.isValid)return null;const{type:a,data:n}=e;try{switch(a){case"match":const t=await l(n.id);return(0,r.A)((0,r.A)({},n),{},{matchData:t,enriched:!0});case"team":const e=await o(n.id);return(0,r.A)((0,r.A)({},n),{},{teamData:e,enriched:!0});case"event":case"player":return(0,r.A)((0,r.A)({},n),{},{enriched:!1});default:return n}}catch(i){return console.error("Error fetching VLR URL data:",i),(0,r.A)((0,r.A)({},n),{},{enriched:!1,error:i.message})}},d=t=>{var e,a,n,i,s,l,o,c,u,p,d,w,h,m,g,v,y,f,b,V,A,U;if(!t)return null;const R={type:"vlr-embed",platform:"VLR.gg",originalUrl:t.originalUrl,displayUrl:t.displayUrl,contentType:t.type};switch(t.type){case"match":return(0,r.A)((0,r.A)({},R),{},{title:(null===(e=t.matchData)||void 0===e||null===(a=e.teams)||void 0===a?void 0:a.map((t=>t.name)).join(" vs "))||"Valorant Match",subtitle:(null===(n=t.matchData)||void 0===n||null===(i=n.event)||void 0===i?void 0:i.name)||"Match Details",description:(null===(s=t.matchData)||void 0===s?void 0:s.status)||"View match details and stats on VLR.gg",thumbnail:(null===(l=t.matchData)||void 0===l||null===(o=l.teams)||void 0===o||null===(c=o[0])||void 0===c?void 0:c.logo)||null,metadata:{status:null===(u=t.matchData)||void 0===u?void 0:u.status,score:null===(p=t.matchData)||void 0===p?void 0:p.score,date:null===(d=t.matchData)||void 0===d?void 0:d.date,event:null===(w=t.matchData)||void 0===w||null===(h=w.event)||void 0===h?void 0:h.name}});case"team":return(0,r.A)((0,r.A)({},R),{},{title:(null===(m=t.teamData)||void 0===m?void 0:m.name)||"Valorant Team",subtitle:(null===(g=t.teamData)||void 0===g?void 0:g.region)||"Team Profile",description:(null===(v=t.teamData)||void 0===v?void 0:v.description)||"View team roster, matches, and stats on VLR.gg",thumbnail:(null===(y=t.teamData)||void 0===y?void 0:y.logo)||null,metadata:{region:null===(f=t.teamData)||void 0===f?void 0:f.region,rank:null===(b=t.teamData)||void 0===b?void 0:b.rank,winRate:null===(V=t.teamData)||void 0===V?void 0:V.winRate}});case"event":return(0,r.A)((0,r.A)({},R),{},{title:(null===(A=t.slug)||void 0===A?void 0:A.replace(/-/g," ").replace(/\b\w/g,(t=>t.toUpperCase())))||"Valorant Tournament",subtitle:"Tournament Details",description:"View tournament bracket, matches, and results on VLR.gg",thumbnail:null});case"player":return(0,r.A)((0,r.A)({},R),{},{title:(null===(U=t.slug)||void 0===U?void 0:U.replace(/-/g," ").replace(/\b\w/g,(t=>t.toUpperCase())))||"Valorant Player",subtitle:"Player Profile",description:"View player stats, match history, and achievements on VLR.gg",thumbnail:null});default:return(0,r.A)((0,r.A)({},R),{},{title:"VLR.gg Content",subtitle:"Valorant Esports",description:"View on VLR.gg for the latest Valorant esports content",thumbnail:null})}}}}]);