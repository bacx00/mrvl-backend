"use strict";(self.webpackChunkmrvl_frontend=self.webpackChunkmrvl_frontend||[]).push([[648],{5648:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(9950),r=a(5150),l=a(9142),n=a(6225),i=a(4414);const c=function(e){let{navigateTo:t}=e;const[a,c]=(0,s.useState)([]),[d,o]=(0,s.useState)("all"),[x,m]=(0,s.useState)(""),[h,u]=(0,s.useState)(!0),{api:g}=(0,r.As)(),{debouncedCallback:p,deduplicatedApiCall:b}=(0,l.D)(),f=(0,s.useCallback)((async()=>{try{var e;u(!0),console.log("\ud83d\udd0d TeamsPage: Fetching teams from real API...");const t=await b("teams",(()=>g.get("/teams")));let a=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||(null===t||void 0===t?void 0:t.data)||t||[];console.log("\u2705 TeamsPage: Real teams data received:",a.length,"teams"),console.log("\ud83d\udd0d TeamsPage: Sample team data:",a[0]),Array.isArray(a)||(console.warn("\u26a0\ufe0f TeamsPage: Teams data is not an array:",typeof a),a=[]);const s=a.map((e=>({id:e.id,name:e.name,shortName:e.short_name||e.shortName,logo:e.logo,region:e.region,country:e.country,flag:e.flag||v(e.country),rating:e.rating||0,rank:e.rank||0,winRate:e.win_rate||Math.floor(30*Math.random())+70,founded:e.founded||(new Date).getFullYear().toString(),captain:e.captain||"TBD",players:e.players||[],achievements:e.achievements||[],socialMedia:e.social_media||{twitter:"@".concat(e.short_name,"Esports"),twitch:"".concat(e.short_name.toLowerCase(),"_gaming"),youtube:"".concat(e.name.replace(/\s+/g,""),"Gaming")}})));c(s),console.log("\u2705 TeamsPage: Teams transformation complete with real IDs")}catch(t){console.error("\u274c TeamsPage: Error fetching teams:",t),c([])}finally{u(!1)}}),[g,b]);(0,s.useEffect)((()=>{f()}),[f]);const j=(0,s.useCallback)((e=>{p("search",(()=>{m(e)}),300)}),[p]),v=e=>({"United States":"\ud83c\uddfa\ud83c\uddf8",USA:"\ud83c\uddfa\ud83c\uddf8",Canada:"\ud83c\udde8\ud83c\udde6",Germany:"\ud83c\udde9\ud83c\uddea","United Kingdom":"\ud83c\uddec\ud83c\udde7",UK:"\ud83c\uddec\ud83c\udde7",France:"\ud83c\uddeb\ud83c\uddf7",Spain:"\ud83c\uddea\ud83c\uddf8",Brazil:"\ud83c\udde7\ud83c\uddf7",Korea:"\ud83c\uddf0\ud83c\uddf7",Japan:"\ud83c\uddef\ud83c\uddf5",China:"\ud83c\udde8\ud83c\uddf3"}[e]||"\ud83c\udf0d"),N=a.filter((e=>{const t="all"===d||e.region===d,a=""===x||e.name.toLowerCase().includes(x.toLowerCase())||e.shortName.toLowerCase().includes(x.toLowerCase());return t&&a}));return(0,i.jsxs)("div",{className:"animate-fade-in",children:[(0,i.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,i.jsx)("h1",{className:"text-3xl font-bold gradient-text",children:"Teams"})}),(0,i.jsx)("div",{className:"glass rounded-xl p-6 mb-8",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2 text-slate-900 dark:text-white",children:"Search Teams"}),(0,i.jsx)("input",{type:"text",placeholder:"Search by team name...",value:x,onChange:e=>j(e.target.value),className:"w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg px-4 py-2 text-slate-900 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2 text-slate-900 dark:text-white",children:"Region"}),(0,i.jsxs)("select",{value:d,onChange:e=>o(e.target.value),className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg px-3 py-2 text-slate-900 dark:text-white",children:[(0,i.jsx)("option",{value:"all",children:"All Regions"}),(0,i.jsx)("option",{value:"NA",children:"North America"}),(0,i.jsx)("option",{value:"EU",children:"Europe"}),(0,i.jsx)("option",{value:"APAC",children:"Asia Pacific"})]})]})]})}),h?(0,i.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading teams..."})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:N.map((e=>(0,i.jsxs)("div",{className:"glass rounded-xl p-6 hover:transform hover:scale-105 transition-all duration-300",children:[(0,i.jsxs)("div",{className:"text-center mb-6",children:[(0,i.jsx)("div",{className:"flex justify-center mb-4",children:(0,i.jsx)(n.LE,{team:e,size:"w-16 h-16",className:"border border-gray-200 dark:border-gray-600"})}),(0,i.jsx)("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:e.shortName}),(0,i.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:e.name}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-slate-500 dark:text-slate-500",children:[(0,i.jsx)("span",{children:e.flag}),(0,i.jsx)("span",{children:e.country}),(0,i.jsx)("span",{children:"\u2022"}),(0,i.jsx)("span",{children:e.region})]}),(0,i.jsxs)("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["ID: ",e.id]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:["#",e.rank||"N/A"]}),(0,i.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Rank"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:e.rating||"N/A"}),(0,i.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Rating"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:[e.winRate,"%"]}),(0,i.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Win Rate"})]})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"Roster"}),(0,i.jsx)("div",{className:"space-y-2",children:e.players&&e.players.length>0?e.players.slice(0,5).map(((t,a)=>(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("Duelist"===t.role?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"Support"===t.role?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"Tank"===t.role?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"),children:t.role||"Player"}),(0,i.jsx)("span",{className:"text-slate-900 dark:text-white font-medium",children:t.username||t.name}),t.username===e.captain&&(0,i.jsx)("span",{className:"text-yellow-500 text-xs",children:"\ud83d\udc51"})]}),(0,i.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:t.main_hero||t.hero||"TBD"})]},a))):(0,i.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-500 text-center py-2",children:"Roster information coming soon"})})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"Achievements"}),(0,i.jsx)("div",{className:"space-y-1",children:e.achievements&&e.achievements.length>0?e.achievements.map(((e,t)=>(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,i.jsx)("span",{className:"w-4 h-4 bg-yellow-500 rounded-full flex items-center justify-center text-xs font-bold text-white",children:"\ud83c\udfc6"}),(0,i.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:e})]},t))):(0,i.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Achievements to be updated"})})]}),(0,i.jsx)("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Founded ",e.founded]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)("button",{className:"w-6 h-6 bg-blue-500 rounded text-white text-xs flex items-center justify-center hover:bg-blue-600 transition-colors",children:"T"}),(0,i.jsx)("button",{className:"w-6 h-6 bg-purple-500 rounded text-white text-xs flex items-center justify-center hover:bg-purple-600 transition-colors",children:"TV"}),(0,i.jsx)("button",{className:"w-6 h-6 bg-red-500 rounded text-white text-xs flex items-center justify-center hover:bg-red-600 transition-colors",children:"YT"})]})]})}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)("button",{onClick:()=>{return a=e.id,console.log("\ud83d\udd17 TeamsPage: FIXED - Navigating to team-detail with real ID:",a),void(t&&"function"===typeof t?t("team-detail",{id:a}):(console.error("\u274c TeamsPage: navigateTo function not available"),alert("Navigation error: Unable to view team profile")));var a},className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500",disabled:!e.id,children:e.id?"View Profile":"Profile Unavailable"}),!e.id&&(0,i.jsx)("p",{className:"text-xs text-red-500 mt-1 text-center",children:"Team ID missing"})]})]},e.id)))}),0===N.length&&!h&&(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No teams found matching your criteria"}),(0,i.jsx)("button",{onClick:()=>{m(""),o("all")},className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Clear filters"})]})]})]})}},9142:(e,t,a)=>{a.d(t,{D:()=>r});var s=a(9950);const r=()=>{const e=(0,s.useRef)(new Map),t=(0,s.useRef)(new Map);return{debouncedCallback:(0,s.useCallback)((function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;t.current.has(e)&&clearTimeout(t.current.get(e));const r=setTimeout((()=>{a(),t.current.delete(e)}),s);t.current.set(e,r)}),[]),deduplicatedApiCall:(0,s.useCallback)((async(t,a)=>{if(e.current.has(t))return e.current.get(t);const s=a().finally((()=>{e.current.delete(t)}));return e.current.set(t,s),s}),[]),shallowEqual:(0,s.useMemo)((()=>(e,t)=>{const a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(const r of a)if(e[r]!==t[r])return!1;return!0}),[]),measurePerformance:(0,s.useCallback)(((e,t)=>function(){const a=performance.now(),s=t(...arguments),r=performance.now();return r-a>16&&console.warn("\u26a0\ufe0f Slow ".concat(e,":"),"".concat((r-a).toFixed(2),"ms")),s}),[])}}}}]);