"use strict";(self.webpackChunkmrvl_frontend=self.webpackChunkmrvl_frontend||[]).push([[144],{2144:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(9950),r=a(5150),l=a(2730),d=a(6069),i=a(4414);function n(){var e;const{user:t,api:a}=(0,r.As)(),{theme:n,config:c}=(0,l.ZK)(),[o,x]=(0,s.useState)("overview"),[m,h]=(0,s.useState)({}),[g,u]=(0,s.useState)([]),[v,y]=(0,s.useState)(!0);(0,s.useEffect)((()=>{b()}),[]);const b=async()=>{try{y(!0);try{var e;const s=await a.get("/user/stats"),r=(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.data)||(null===s||void 0===s?void 0:s.data)||{};h({posts:r.posts_count||0,threadsCreated:r.threads_count||0,reputation:r.reputation||0,joinDate:(null===t||void 0===t?void 0:t.created_at)||r.join_date||"2024-01-01",favoriteHero:(null===t||void 0===t?void 0:t.favoriteHero)||r.favorite_hero||"Not set",winRate:r.win_rate||0,matchesPlayed:r.matches_played||0,rank:r.rank||"Unranked"}),console.log("\u2705 UserDashboard: Real user stats loaded")}catch(r){console.warn("\u26a0\ufe0f UserDashboard: Stats API not available, using defaults"),h({posts:0,threadsCreated:0,reputation:0,joinDate:(null===t||void 0===t?void 0:t.created_at)||"2024-01-01",favoriteHero:(null===t||void 0===t?void 0:t.favoriteHero)||"Not set",winRate:0,matchesPlayed:0,rank:"Unranked"})}try{var s;const e=await a.get("/user/activity"),t=(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.data)||(null===e||void 0===e?void 0:e.data)||[];if(Array.isArray(t)&&t.length>0){const e=t.map((e=>({type:e.type||"activity",content:e.description||e.content||"Activity",time:j(e.created_at||e.time),icon:f(e.type)})));u(e),console.log("\u2705 UserDashboard: Real activity loaded:",e.length)}else u([])}catch(l){console.warn("\u26a0\ufe0f UserDashboard: Activity API not available"),u([])}}catch(d){console.error("\u274c UserDashboard: Failed to fetch user data:",d),h({posts:0,threadsCreated:0,reputation:0,joinDate:(null===t||void 0===t?void 0:t.created_at)||"2024-01-01",favoriteHero:(null===t||void 0===t?void 0:t.favoriteHero)||"Not set",winRate:0,matchesPlayed:0,rank:"Unranked"}),u([])}finally{y(!1)}},j=e=>{if(!e)return"Recently";const t=new Date(e),a=new Date-t,s=Math.floor(a/6e4),r=Math.floor(s/60),l=Math.floor(r/24);return l>0?"".concat(l," day").concat(l>1?"s":""," ago"):r>0?"".concat(r," hour").concat(r>1?"s":""," ago"):s>0?"".concat(s," minute").concat(s>1?"s":""," ago"):"Just now"},f=e=>({post:"\ud83d\udcac",thread:"\ud83d\udcdd",match:"\ud83c\udfc6",achievement:"\ud83c\udfc5",friend:"\ud83d\udc65",comment:"\ud83d\udcad",vote:"\ud83d\udc4d",login:"\ud83d\udd10"}[e]||"\ud83d\udcca");return(0,i.jsxs)("div",{className:"animate-fade-in space-y-6",children:[(0,i.jsx)("div",{className:"glass rounded-xl p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-blue-500 rounded-xl flex items-center justify-center text-white font-bold text-2xl shadow-lg",children:(null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.charAt(0))||"U"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,i.jsxs)("h1",{className:"text-3xl font-bold gradient-text",children:["Welcome back, ",null===t||void 0===t?void 0:t.name,"!"]}),(0,i.jsx)(d.A,{user:t,size:"md",showIcon:!0,showText:!0})]}),(0,i.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Ready to dominate the Marvel Rivals battlefield?"})]})]}),(0,i.jsx)("div",{className:"text-4xl",children:"\ud83c\udfae"})]})}),"overview"===o&&(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:v?Array.from({length:4}).map(((e,t)=>(0,i.jsxs)("div",{className:"glass rounded-xl p-6 animate-pulse",children:[(0,i.jsx)("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),(0,i.jsx)("div",{className:"h-8 bg-gray-300 dark:bg-gray-600 rounded"})]},t))):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"glass rounded-xl p-6 hover:scale-105 transition-transform",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Forum Posts"}),(0,i.jsx)("span",{className:"text-2xl",children:"\ud83d\udcac"})]}),(0,i.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:m.posts}),(0,i.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400 mt-2",children:"+3 this week"})]}),(0,i.jsxs)("div",{className:"glass rounded-xl p-6 hover:scale-105 transition-transform",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Reputation"}),(0,i.jsx)("span",{className:"text-2xl",children:"\u2b50"})]}),(0,i.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:m.reputation}),(0,i.jsx)("div",{className:"text-sm text-green-600 dark:text-green-400 mt-2",children:"+45 this month"})]}),(0,i.jsxs)("div",{className:"glass rounded-xl p-6 hover:scale-105 transition-transform",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Win Rate"}),(0,i.jsx)("span",{className:"text-2xl",children:"\ud83c\udfc6"})]}),(0,i.jsxs)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[m.winRate,"%"]}),(0,i.jsxs)("div",{className:"text-sm text-purple-600 dark:text-purple-400 mt-2",children:[m.matchesPlayed," matches"]})]}),(0,i.jsxs)("div",{className:"glass rounded-xl p-6 hover:scale-105 transition-transform",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Current Rank"}),(0,i.jsx)("span",{className:"text-2xl",children:"\ud83e\udd47"})]}),(0,i.jsx)("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:m.rank}),(0,i.jsx)("div",{className:"text-sm text-orange-600 dark:text-orange-400 mt-2",children:"Climbing up!"})]})]})}),(0,i.jsx)("div",{className:"glass rounded-xl p-1",children:(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:[{id:"overview",label:"Overview",icon:"\ud83d\udcca"},{id:"profile",label:"Profile",icon:"\ud83d\udc64"},{id:"activity",label:"Activity",icon:"\ud83d\udcc8"},{id:"settings",label:"Settings",icon:"\u2699\ufe0f"}].map((e=>(0,i.jsxs)("button",{onClick:()=>x(e.id),className:"flex items-center space-x-2 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-300 hover:scale-105 ".concat(o===e.id?"bg-gradient-to-r ".concat(n.gradient," text-white shadow-lg ").concat(n.shadow," ").concat(n.border," ").concat(n.borderDark):"text-gray-700 dark:text-gray-300 hover:bg-white/10 ".concat(n.primaryText," ").concat(n.primaryTextDark," border border-transparent")),children:[(0,i.jsx)("span",{children:e.icon}),(0,i.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id)))})}),(0,i.jsxs)("div",{className:"space-y-6",children:["overview"===o&&(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"glass rounded-xl p-6",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),(0,i.jsx)("div",{className:"space-y-4",children:g.map(((e,t)=>(0,i.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-white/50 dark:bg-gray-800/50 rounded-lg hover:bg-white/70 dark:hover:bg-gray-800/70 transition-all duration-300",children:[(0,i.jsx)("div",{className:"text-xl",children:e.icon}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.content}),(0,i.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.time})]})]},t)))})]}),(0,i.jsxs)("div",{className:"glass rounded-xl p-6",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Your Marvel Rivals Profile"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-6xl mb-2",children:"\ud83e\uddbe"}),(0,i.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.favoriteHero}),(0,i.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Main Hero"})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,i.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Hero Mastery"}),(0,i.jsx)("span",{className:"text-gray-900 dark:text-white",children:"78%"})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,i.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-2 rounded-full",style:{width:"78%"}})})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,i.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Duelist Skills"}),(0,i.jsx)("span",{className:"text-gray-900 dark:text-white",children:"85%"})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,i.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",style:{width:"85%"}})})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,i.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Team Play"}),(0,i.jsx)("span",{className:"text-gray-900 dark:text-white",children:"92%"})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,i.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full",style:{width:"92%"}})})]})]})]})]})]}),"profile"===o&&(0,i.jsxs)("div",{className:"glass rounded-xl p-6",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Profile Information"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name"}),(0,i.jsx)("input",{type:"text",value:(null===t||void 0===t?void 0:t.name)||"",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",readOnly:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,i.jsx)("input",{type:"email",value:(null===t||void 0===t?void 0:t.email)||"",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",readOnly:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Member Since"}),(0,i.jsx)("input",{type:"text",value:new Date(m.joinDate).toLocaleDateString(),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white",readOnly:!0})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Favorite Hero"}),(0,i.jsxs)("select",{className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,i.jsx)("option",{children:"Iron Man"}),(0,i.jsx)("option",{children:"Spider-Man"}),(0,i.jsx)("option",{children:"Hulk"}),(0,i.jsx)("option",{children:"Thor"}),(0,i.jsx)("option",{children:"Black Panther"}),(0,i.jsx)("option",{children:"Doctor Strange"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preferred Role"}),(0,i.jsxs)("select",{className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,i.jsx)("option",{children:"Duelist"}),(0,i.jsx)("option",{children:"Strategist"}),(0,i.jsx)("option",{children:"Vanguard"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),(0,i.jsx)("textarea",{rows:"3",placeholder:"Tell us about yourself...",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-red-500 resize-none"})]})]})]}),(0,i.jsx)("div",{className:"mt-6 flex justify-end",children:(0,i.jsx)("button",{className:"px-6 py-3 bg-gradient-to-r ".concat(n.gradient," ").concat(n.primaryHover," text-white font-semibold rounded-xl shadow-lg ").concat(n.shadow," transition-all duration-300 hover:scale-105"),children:"Save Changes"})})]}),"activity"===o&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"glass rounded-xl p-6",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Activity Overview"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:m.posts}),(0,i.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Forum Posts"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:m.threadsCreated}),(0,i.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Threads Created"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:m.reputation}),(0,i.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Reputation Points"})]})]})]}),(0,i.jsxs)("div",{className:"glass rounded-xl p-6",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Complete Activity History"}),(0,i.jsx)("div",{className:"space-y-3",children:g.map(((e,t)=>(0,i.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg border-l-4 border-red-500",children:[(0,i.jsx)("div",{className:"text-2xl",children:e.icon}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.content}),(0,i.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.time})]}),(0,i.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-500 capitalize",children:e.type})]},t)))})]})]}),"settings"===o&&(0,i.jsxs)("div",{className:"glass rounded-xl p-6",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Account Settings"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Notifications"}),(0,i.jsx)("div",{className:"space-y-3",children:[{setting:"Email notifications",enabled:!0},{setting:"Forum mentions",enabled:!0},{setting:"Match updates",enabled:!1},{setting:"Event reminders",enabled:!0}].map(((e,t)=>(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.setting}),(0,i.jsx)("button",{className:"w-12 h-6 rounded-full relative transition-colors ".concat(e.enabled?"bg-green-500":"bg-gray-300 dark:bg-gray-600"),children:(0,i.jsx)("div",{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ".concat(e.enabled?"right-0.5":"left-0.5")})})]},t)))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Privacy"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Show online status"}),(0,i.jsx)("button",{className:"w-12 h-6 bg-green-500 rounded-full relative",children:(0,i.jsx)("div",{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 right-0.5"})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Allow direct messages"}),(0,i.jsx)("button",{className:"w-12 h-6 bg-green-500 rounded-full relative",children:(0,i.jsx)("div",{className:"w-5 h-5 bg-white rounded-full absolute top-0.5 right-0.5"})})]})]})]}),(0,i.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,i.jsx)("button",{className:"px-6 py-3 bg-gradient-to-r ".concat(n.gradient," ").concat(n.primaryHover," text-white font-semibold rounded-xl shadow-lg ").concat(n.shadow," transition-all duration-300 hover:scale-105"),children:"Save Settings"})})]})]})]})]})}const c=function(){const{user:e}=(0,r.As)();return(0,i.jsx)(l.Ay,{user:e,children:(0,i.jsx)(n,{})})}},2730:(e,t,a)=>{a.d(t,{Ay:()=>i,ZK:()=>d});var s=a(9950),r=a(4414);const l=(0,s.createContext)();function d(){const e=(0,s.useContext)(l);if(!e)throw new Error("useRoleTheme must be used within a RoleThemeProvider");return e}const i=function(e){let{children:t,user:a}=e;const s=(e=>{switch(e){case"admin":return{primary:"#dc2626",secondary:"#fca5a5",background:"#fef2f2",text:"#991b1b"};case"moderator":return{primary:"#f59e0b",secondary:"#fde68a",background:"#fffbeb",text:"#92400e"};default:return{primary:"#059669",secondary:"#86efac",background:"#f0fdf4",text:"#065f46"}}})(null===a||void 0===a?void 0:a.role),d={role:(null===a||void 0===a?void 0:a.role)||"user",canManageUsers:"admin"===(null===a||void 0===a?void 0:a.role),canModerate:"admin"===(null===a||void 0===a?void 0:a.role)||"moderator"===(null===a||void 0===a?void 0:a.role)};return(0,r.jsx)(l.Provider,{value:{theme:s,config:d,user:a},children:t})}}}]);