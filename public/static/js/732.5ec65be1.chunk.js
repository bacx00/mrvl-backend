"use strict";(self.webpackChunkmrvl_frontend=self.webpackChunkmrvl_frontend||[]).push([[732],{732:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var r=a(2555),s=a(9950),n=a(5150),i=a(4758),l=a(6225),o=a(4414);const d=function(e){let{eventId:t,navigateTo:a}=e;const[d,c]=(0,s.useState)({name:"",description:"",type:"tournament",tier:"B",format:"single_elimination",region:"International",game_mode:"Convoy",start_date:"",end_date:"",registration_start:"",registration_end:"",max_teams:16,prize_pool:"",currency:"USD",prize_distribution:{},logo:"",rules:"",registration_requirements:{},streams:{},social_links:{},timezone:"UTC",featured:!1,public:!0,status:"upcoming"}),[m,u]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[v,b]=(0,s.useState)([]),[y,f]=(0,s.useState)([]),[j,N]=(0,s.useState)(""),{api:k}=(0,n.As)(),_=Boolean(t),w=async()=>{if(t)try{var e;const a=await k.get("/admin/events/".concat(t,"/teams")),r=(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data)||(null===a||void 0===a?void 0:a.data)||[];f(r)}catch(a){console.error("Error fetching event teams:",a)}};(0,s.useEffect)((()=>{(async()=>{if(_)try{var e;u(!0);const a=await k.get("/admin/events/".concat(t)),r=(null===(e=a.data)||void 0===e?void 0:e.data)||a.data||a;c({name:r.name||"",description:r.description||"",type:r.type||"tournament",tier:r.tier||"B",format:r.format||"single_elimination",region:r.region||"International",game_mode:r.game_mode||"Convoy",start_date:r.start_date?r.start_date.split(" ")[0]:"",end_date:r.end_date?r.end_date.split(" ")[0]:"",registration_start:r.registration_start?r.registration_start.split(" ")[0]:"",registration_end:r.registration_end?r.registration_end.split(" ")[0]:"",max_teams:r.max_teams||16,prize_pool:r.prize_pool||"",currency:r.currency||"USD",prize_distribution:r.prize_distribution||{},logo:r.logo||"",rules:r.rules||"",registration_requirements:r.registration_requirements||{},streams:r.streams||{},social_links:r.social_links||{},timezone:r.timezone||"UTC",featured:r.featured||!1,public:void 0===r.public||r.public,status:r.status||"upcoming"})}catch(a){console.error("Error fetching event:",a),alert("Error loading event data")}finally{u(!1)}})(),(async()=>{try{var e;const t=await k.get("/teams"),a=(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)||(null===t||void 0===t?void 0:t.data)||[];b(a)}catch(t){console.error("Error fetching teams:",t)}})(),t&&w()}),[t,_]);const C=e=>{const{name:t,value:a,type:s,checked:n}=e.target;c((e=>(0,r.A)((0,r.A)({},e),{},{[t]:"checkbox"===s?n:a})))};return m?(0,o.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,o.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading event data..."})]})}):(0,o.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:_?"Edit Event":"Create New Event"}),(0,o.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:_?"Update event information and settings":"Create a comprehensive Marvel Rivals tournament"})]}),(0,o.jsx)("button",{onClick:()=>a&&a("admin-events"),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"\u2190 Back to Events"})]}),(0,o.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!d.name.trim())return void alert("Event name is required");if(!d.description.trim()||d.description.length<20)return void alert("Description must be at least 20 characters");const r=(()=>{const e=[];if(!d.start_date)return e.push("Start date is required"),e;if(!d.end_date)return e.push("End date is required"),e;const t=new Date(d.start_date);new Date(d.end_date)<=t&&e.push("End date must be after start date"),d.registration_start&&new Date(d.registration_start)>=t&&e.push("Registration start must be before event start date");if(d.registration_end){const a=new Date(d.registration_end);a>t&&e.push("Registration end must be before or equal to event start date"),d.registration_start&&a<=new Date(d.registration_start)&&e.push("Registration end must be after registration start")}return e})();if(r.length>0)alert("Date validation errors:\n"+r.join("\n"));else{g(!0);try{const e=new FormData;e.append("name",d.name.trim()),e.append("description",d.description.trim()),e.append("type",d.type),e.append("tier",d.tier),e.append("format",d.format),e.append("region",d.region),e.append("game_mode",d.game_mode),e.append("start_date",d.start_date),e.append("end_date",d.end_date),e.append("max_teams",parseInt(d.max_teams)||16),e.append("currency",d.currency),e.append("timezone",d.timezone),e.append("featured",d.featured?"1":"0"),e.append("public",d.public?"1":"0"),e.append("status",d.status);const r=d.registration_start||(e=>{if(!e)return"";const t=new Date(e);return t.setDate(t.getDate()-7),t.toISOString().split("T")[0]})(d.start_date),s=d.registration_end||(e=>{if(!e)return"";const t=new Date(e);return t.setDate(t.getDate()-1),t.toISOString().split("T")[0]})(d.start_date);let n;r&&e.append("registration_start",r),s&&e.append("registration_end",s),d.prize_pool&&e.append("prize_pool",parseFloat(d.prize_pool)),d.rules&&e.append("rules",d.rules),Object.keys(d.prize_distribution).length>0&&e.append("prize_distribution",JSON.stringify(d.prize_distribution)),Object.keys(d.registration_requirements).length>0&&e.append("registration_requirements",JSON.stringify(d.registration_requirements)),Object.keys(d.streams).length>0&&e.append("streams",JSON.stringify(d.streams)),Object.keys(d.social_links).length>0&&e.append("social_links",JSON.stringify(d.social_links)),p&&e.append("logo",p),n=_?await k.postFile("/admin/events/".concat(t),e,{method:"PUT"}):await k.postFile("/admin/events",e),alert("Event ".concat(_?"updated":"created"," successfully!")),a&&a("admin-events")}catch(i){var s,n;console.error("Error saving event:",i);const e=(null===(s=i.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||i.message||"Unknown error";alert("Error ".concat(_?"updating":"creating"," event: ").concat(e))}finally{g(!1)}}},className:"space-y-8",children:[(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Event Images"}),(0,o.jsx)("div",{className:"max-w-sm",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Event Logo"}),(0,o.jsx)(i.A,{onImageSelect:(e,t)=>{h(e),c((e=>(0,r.A)((0,r.A)({},e),{},{logo:t||""})))},currentImage:d.logo,placeholder:"Upload Event Logo (512x512)",className:"w-full",aspectRatio:"square"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Recommended: 512x512px, PNG format"})]})})]}),(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Basic Information"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,o.jsxs)("div",{className:"md:col-span-2 lg:col-span-3",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Event Name *"}),(0,o.jsx)("input",{type:"text",name:"name",value:d.name,onChange:C,className:"form-input",placeholder:"e.g., Marvel Rivals World Championship 2025",required:!0})]}),(0,o.jsxs)("div",{className:"md:col-span-2 lg:col-span-3",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Description *"}),(0,o.jsx)("textarea",{name:"description",value:d.description,onChange:C,rows:4,className:"form-input",placeholder:"Detailed event description (minimum 20 characters)...",required:!0,minLength:20}),(0,o.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[d.description.length,"/20 characters minimum"]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Event Type *"}),(0,o.jsx)("select",{name:"type",value:d.type,onChange:C,className:"form-input",required:!0,children:[{value:"championship",label:"Championship"},{value:"tournament",label:"Tournament"},{value:"scrim",label:"Scrim"},{value:"qualifier",label:"Qualifier"},{value:"regional",label:"Regional"},{value:"international",label:"International"},{value:"invitational",label:"Invitational"},{value:"community",label:"Community"},{value:"friendly",label:"Friendly"},{value:"practice",label:"Practice"},{value:"exhibition",label:"Exhibition"}].map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Tier"}),(0,o.jsx)("select",{name:"tier",value:d.tier,onChange:C,className:"form-input",children:[{value:"S",label:"S-Tier (Premier)"},{value:"A",label:"A-Tier (Major)"},{value:"B",label:"B-Tier (Regional)"},{value:"C",label:"C-Tier (Community)"}].map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Status"}),(0,o.jsx)("select",{name:"status",value:d.status,onChange:C,className:"form-input",children:[{value:"upcoming",label:"Upcoming"},{value:"ongoing",label:"Ongoing"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}].map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Region *"}),(0,o.jsx)("select",{name:"region",value:d.region,onChange:C,className:"form-input",required:!0,children:["International","North America","Europe","Asia-Pacific","China","South America","Middle East & North Africa","Oceania"].map((e=>(0,o.jsx)("option",{value:e,children:e},e)))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Game Mode *"}),(0,o.jsx)("select",{name:"game_mode",value:d.game_mode,onChange:C,className:"form-input",required:!0,children:["Convoy","Domination","Convergence"].map((e=>(0,o.jsx)("option",{value:e,children:e},e)))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Timezone"}),(0,o.jsx)("input",{type:"text",name:"timezone",value:d.timezone,onChange:C,className:"form-input",placeholder:"e.g., UTC, EST, PST"})]})]})]}),(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Tournament Format"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Format *"}),(0,o.jsx)("select",{name:"format",value:d.format,onChange:C,className:"form-input",required:!0,children:[{value:"single_elimination",label:"Single Elimination"},{value:"double_elimination",label:"Double Elimination"},{value:"round_robin",label:"Round Robin"},{value:"swiss",label:"Swiss System"},{value:"group_stage",label:"Group Stage"},{value:"bo1",label:"Best of 1"},{value:"bo3",label:"Best of 3"},{value:"bo5",label:"Best of 5"}].map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Max Teams *"}),(0,o.jsx)("input",{type:"number",name:"max_teams",value:d.max_teams,onChange:C,className:"form-input",min:"2",max:"256",required:!0})]})]})]}),(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Schedule"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Start Date *"}),(0,o.jsx)("input",{type:"date",name:"start_date",value:d.start_date,onChange:C,className:"form-input",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"End Date *"}),(0,o.jsx)("input",{type:"date",name:"end_date",value:d.end_date,onChange:C,className:"form-input",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Registration Start"}),(0,o.jsx)("input",{type:"date",name:"registration_start",value:d.registration_start,onChange:C,className:"form-input"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Optional. Must be before event start date. Defaults to 7 days before event."})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Registration End"}),(0,o.jsx)("input",{type:"date",name:"registration_end",value:d.registration_end,onChange:C,className:"form-input"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Optional. Must be before or equal to event start date. Defaults to 1 day before event."})]})]})]}),(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Prize Information"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Prize Pool"}),(0,o.jsx)("input",{type:"number",name:"prize_pool",value:d.prize_pool,onChange:C,className:"form-input",step:"0.01",min:"0",placeholder:"100000"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Currency"}),(0,o.jsx)("select",{name:"currency",value:d.currency,onChange:C,className:"form-input",children:[{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR (\u20ac)"},{value:"GBP",label:"GBP (\xa3)"},{value:"JPY",label:"JPY (\xa5)"},{value:"CNY",label:"CNY (\xa5)"},{value:"KRW",label:"KRW (\u20a9)"}].map((e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value)))})]})]})]}),(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Additional Information"}),(0,o.jsx)("div",{className:"space-y-6",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Rules & Regulations"}),(0,o.jsx)("textarea",{name:"rules",value:d.rules,onChange:C,rows:4,className:"form-input",placeholder:"Tournament rules, code of conduct, technical requirements..."})]})})]}),(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Event Settings"}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",name:"featured",checked:d.featured,onChange:C,className:"mr-3",id:"featured"}),(0,o.jsx)("label",{htmlFor:"featured",className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Featured Event (appears prominently on homepage)"})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",name:"public",checked:d.public,onChange:C,className:"mr-3",id:"public"}),(0,o.jsx)("label",{htmlFor:"public",className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Public Event (visible to all users)"})]})]})]}),_&&t&&(0,o.jsxs)("div",{className:"card p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Team Management"}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Add Team to Event"}),(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"form-input flex-1",children:[(0,o.jsx)("option",{value:"",children:"Select a team..."}),v.filter((e=>!y.some((t=>t.id===e.id)))).map((e=>(0,o.jsxs)("option",{value:e.id,children:[e.name," (",e.short_name,") - ",e.region]},e.id)))]}),(0,o.jsx)("button",{type:"button",onClick:async()=>{if(j&&t)try{await k.post("/admin/events/".concat(t,"/teams/").concat(j)),await w(),N(""),alert("Team added successfully!")}catch(r){var e,a;console.error("Error adding team:",r);const t=(null===(e=r.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||r.message||"Error adding team";alert(t)}},disabled:!j,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Add Team"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3",children:["Current Teams (",Array.isArray(y)?y.length:0,"/",d.max_teams,")"]}),Array.isArray(y)&&0!==y.length?(0,o.jsx)("div",{className:"space-y-2",children:y.map(((e,a)=>(0,o.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["#",e.seed||a+1]}),e.logo&&(0,o.jsx)("img",{src:e.logo,alt:e.name,className:"w-8 h-8 rounded",onError:e=>{e.target.src=(0,l.VG)(null,"team-logo")}}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,o.jsxs)("div",{className:"text-sm text-gray-500",children:[e.region," \u2022 Rating: ",e.rating||1e3]})]})]}),(0,o.jsx)("button",{type:"button",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove this team?"))try{await k.delete("/admin/events/".concat(t,"/teams/").concat(e)),await w(),alert("Team removed successfully!")}catch(s){var a,r;console.error("Error removing team:",s);const e=(null===(a=s.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||s.message||"Error removing team";alert(e)}})(e.id),className:"text-red-600 hover:text-red-700 font-medium text-sm",children:"Remove"})]},e.id)))}):(0,o.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No teams registered yet"})]})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,o.jsx)("button",{type:"button",onClick:()=>a&&a("admin-events"),className:"px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium",children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:x,className:"px-8 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:x?(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),_?"Updating...":"Creating..."]}):_?"Update Event":"Create Event"})]})]})]})}},4758:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(9950),s=a(4414);const n=function(e){let{onImageSelect:t,currentImage:a,placeholder:n="Upload Image",accept:i="image/*",maxSize:l=5242880,className:o=""}=e;const[d,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[x,g]=(0,r.useState)(a||null),[p,h]=(0,r.useState)(null),v=(0,r.useRef)(null);(0,r.useEffect)((()=>{g(a||null)}),[a]);const b=async e=>{const a=e[0];if(a)if(h(null),a.type.startsWith("image/"))if(a.size>l)h("File size must be less than ".concat(Math.round(l/1024/1024),"MB"));else{u(!0);try{const e=URL.createObjectURL(a);g(e),t&&"function"===typeof t&&t(a,e)}catch(r){console.error("Error processing image:",r),h("Error processing image. Please try again."),g(null)}finally{u(!1)}}else h("Please select an image file")},y=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?c(!0):"dragleave"===e.type&&c(!1)},f=()=>{var e;null===(e=v.current)||void 0===e||e.click()};return(0,s.jsxs)("div",{className:"relative ".concat(o),children:[(0,s.jsx)("input",{ref:v,type:"file",accept:i,onChange:e=>{e.target.files&&e.target.files[0]&&b(e.target.files)},className:"hidden"}),x?(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("img",{src:x,alt:"Preview",className:"w-full h-32 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center space-x-2",children:[(0,s.jsx)("button",{type:"button",onClick:f,className:"px-3 py-1 bg-white text-gray-900 text-sm rounded hover:bg-gray-100 transition-colors",children:"Change"}),(0,s.jsx)("button",{type:"button",onClick:()=>{g(null),h(null),t&&"function"===typeof t&&t(null,null),v.current&&(v.current.value="")},className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Remove"})]})]}):(0,s.jsx)("div",{onClick:f,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&b(e.dataTransfer.files)},className:"\n            w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-all\n            flex flex-col items-center justify-center text-center p-4\n            ".concat(d?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 hover:border-red-400 hover:bg-gray-50 dark:hover:bg-gray-700/50","\n          "),children:m?(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-red-500 border-t-transparent rounded-full animate-spin mb-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Processing..."})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("svg",{className:"w-8 h-8 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:n}),(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Drag & drop or click to select"}),(0,s.jsxs)("span",{className:"text-xs text-gray-400 dark:text-gray-600 mt-1",children:["Max ",Math.round(l/1024/1024),"MB"]})]})}),p&&(0,s.jsx)("div",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:p})]})}}}]);