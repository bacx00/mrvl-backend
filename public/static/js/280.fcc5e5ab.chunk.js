"use strict";(self.webpackChunkmrvl_frontend=self.webpackChunkmrvl_frontend||[]).push([[280],{3280:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var r=t(9950),l=t(5150),s=t(9142),n=t(6225),i=t(4414);const d=function(e){let{navigateTo:a}=e;const[t,d]=(0,r.useState)([]),[c,o]=(0,r.useState)(!0),[m,x]=(0,r.useState)("all"),[u,h]=(0,r.useState)("all"),[g,p]=(0,r.useState)(""),{api:v}=(0,l.As)(),{debouncedCallback:y,deduplicatedApiCall:b}=(0,s.D)(),j=(0,r.useCallback)((async()=>{try{var e;o(!0),console.log("\ud83d\udd0d PlayersPage: Fetching players from real API...");const a=await b("players",(()=>v.get("/players")));let t=(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.data)||(null===a||void 0===a?void 0:a.data)||a||[];console.log("\u2705 PlayersPage: Real players data received:",t.length,"players"),console.log("\ud83d\udd0d PlayersPage: Sample player data:",t[0]),Array.isArray(t)||(console.warn("\u26a0\ufe0f PlayersPage: Players data is not an array:",typeof t),t=[]);const r=t.map((e=>({id:e.id,name:e.name,username:e.username||e.gamer_tag,realName:e.real_name||e.realName,avatar:e.avatar_url||e.avatar,team:e.team?{id:e.team.id,name:e.team.name,shortName:e.team.short_name||e.team.shortName,logo:e.team.logo}:null,role:e.role,mainHero:e.main_hero||e.mainHero,region:e.region,country:e.country,age:e.age,rating:e.rating||Math.floor(500*Math.random())+1500,rank:e.rank||0,winRate:e.win_rate||Math.floor(30*Math.random())+70,kd:e.kd||(.8*Math.random()+.8).toFixed(2),achievements:e.achievements||[]})));d(r),console.log("\u2705 PlayersPage: Players transformation complete with real IDs")}catch(a){console.error("\u274c PlayersPage: Error fetching players:",a),d([{id:28,name:"Test Player 3",username:"testplayer789",realName:"Test Player 3",avatar:null,team:{id:30,name:"Team Alpha Test",shortName:"ALF",logo:null},role:"Duelist",mainHero:"Iron Man",region:"NA",country:"USA",age:24,rating:1847,rank:1,winRate:89.2,kd:"1.34",achievements:["Test Tournament MVP"]},{id:27,name:"Test Player 2",username:"testplayer456",realName:"Test Player 2",avatar:null,team:{id:31,name:"Team Beta Test",shortName:"BET",logo:null},role:"Support",mainHero:"Doctor Strange",region:"EU",country:"Germany",age:26,rating:1723,rank:2,winRate:85.7,kd:"0.98",achievements:["EU Regional Champion"]}])}finally{o(!1)}}),[v,b]);(0,r.useEffect)((()=>{j()}),[j]);const k=t.filter((e=>{const a="all"===m||e.region===m,t="all"===u||e.role===u,r=""===g||e.name.toLowerCase().includes(g.toLowerCase())||e.username.toLowerCase().includes(g.toLowerCase())||e.realName&&e.realName.toLowerCase().includes(g.toLowerCase());return a&&t&&r})),N=e=>{switch(e){case"Duelist":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"Tank":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"Support":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"Controller":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}};return c?(0,i.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,i.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading players..."})]})}):(0,i.jsxs)("div",{className:"animate-fade-in",children:[(0,i.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,i.jsx)("h1",{className:"text-3xl font-bold gradient-text",children:"Players"})}),(0,i.jsx)("div",{className:"glass rounded-xl p-6 mb-8",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2 text-slate-900 dark:text-white",children:"Search Players"}),(0,i.jsx)("input",{type:"text",placeholder:"Search by name or username...",value:g,onChange:e=>p(e.target.value),className:"w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg px-4 py-2 text-slate-900 dark:text-white placeholder-slate-500 dark:placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2 text-slate-900 dark:text-white",children:"Region"}),(0,i.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg px-3 py-2 text-slate-900 dark:text-white",children:[(0,i.jsx)("option",{value:"all",children:"All Regions"}),(0,i.jsx)("option",{value:"NA",children:"North America"}),(0,i.jsx)("option",{value:"EU",children:"Europe"}),(0,i.jsx)("option",{value:"APAC",children:"Asia Pacific"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium mb-2 text-slate-900 dark:text-white",children:"Role"}),(0,i.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg px-3 py-2 text-slate-900 dark:text-white",children:[(0,i.jsx)("option",{value:"all",children:"All Roles"}),(0,i.jsx)("option",{value:"Duelist",children:"Duelist"}),(0,i.jsx)("option",{value:"Tank",children:"Tank"}),(0,i.jsx)("option",{value:"Support",children:"Support"}),(0,i.jsx)("option",{value:"Controller",children:"Controller"})]})]})]})}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:k.map((e=>(0,i.jsxs)("div",{className:"glass rounded-xl p-6 hover:transform hover:scale-105 transition-all duration-300",children:[(0,i.jsxs)("div",{className:"text-center mb-6",children:[(0,i.jsx)("div",{className:"flex justify-center mb-4",children:(0,i.jsx)(n.f5,{player:e,size:"w-16 h-16",className:"border border-gray-200 dark:border-gray-600"})}),(0,i.jsx)("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:e.username}),(0,i.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mb-2",children:e.realName||e.name}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-slate-500 dark:text-slate-500 mb-2",children:[(0,i.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(N(e.role)),children:e.role}),(0,i.jsx)("span",{children:"\u2022"}),(0,i.jsx)("span",{children:e.region})]}),(0,i.jsxs)("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["ID: ",e.id]})]}),e.team&&(0,i.jsxs)("div",{className:"text-center mb-6",children:[(0,i.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Currently playing for"}),(0,i.jsx)("div",{className:"text-lg font-semibold text-primary-600 dark:text-primary-400 cursor-pointer hover:underline",onClick:()=>a("team-detail",{id:e.team.id}),children:e.team.shortName})]}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsxs)("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:["#",e.rank||"N/A"]}),(0,i.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Rank"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:e.rating}),(0,i.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Rating"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:e.kd}),(0,i.jsx)("div",{className:"text-xs text-slate-600 dark:text-slate-400",children:"K/D"})]})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3 text-center",children:"Main Hero"}),(0,i.jsx)("div",{className:"text-center",children:(0,i.jsx)("span",{className:"px-4 py-2 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-full text-sm font-medium",children:e.mainHero})})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"Recent Achievements"}),(0,i.jsx)("div",{className:"space-y-1",children:e.achievements&&e.achievements.length>0?e.achievements.slice(0,2).map(((e,a)=>(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,i.jsx)("span",{className:"w-4 h-4 bg-yellow-500 rounded-full flex items-center justify-center text-xs text-white",children:"\ud83c\udfc6"}),(0,i.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:e})]},a))):(0,i.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Achievements to be updated"})})]}),(0,i.jsx)("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700 mb-6",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:"Age"}),(0,i.jsx)("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:e.age||"N/A"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-slate-600 dark:text-slate-400",children:"Win Rate"}),(0,i.jsxs)("div",{className:"font-medium text-slate-900 dark:text-slate-100",children:[e.winRate,"%"]})]})]})}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{onClick:()=>{return t=e.id,console.log("\ud83d\udd17 PlayersPage: Navigating to player-detail with real ID:",t),void(a&&"function"===typeof a&&a("player-detail",{id:t}));var t},className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"View Profile"})})]},e.id)))}),0===k.length&&(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No players found matching your criteria"}),(0,i.jsx)("button",{onClick:()=>{p(""),x("all"),h("all")},className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Clear filters"})]})]})}},9142:(e,a,t)=>{t.d(a,{D:()=>l});var r=t(9950);const l=()=>{const e=(0,r.useRef)(new Map),a=(0,r.useRef)(new Map);return{debouncedCallback:(0,r.useCallback)((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;a.current.has(e)&&clearTimeout(a.current.get(e));const l=setTimeout((()=>{t(),a.current.delete(e)}),r);a.current.set(e,l)}),[]),deduplicatedApiCall:(0,r.useCallback)((async(a,t)=>{if(e.current.has(a))return e.current.get(a);const r=t().finally((()=>{e.current.delete(a)}));return e.current.set(a,r),r}),[]),shallowEqual:(0,r.useMemo)((()=>(e,a)=>{const t=Object.keys(e),r=Object.keys(a);if(t.length!==r.length)return!1;for(const l of t)if(e[l]!==a[l])return!1;return!0}),[]),measurePerformance:(0,r.useCallback)(((e,a)=>function(){const t=performance.now(),r=a(...arguments),l=performance.now();return l-t>16&&console.warn("\u26a0\ufe0f Slow ".concat(e,":"),"".concat((l-t).toFixed(2),"ms")),r}),[])}}}}]);